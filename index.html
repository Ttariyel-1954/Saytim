
<!DOCTYPE html>
<html lang="az">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      TalÄ±bov Tariyel Ä°smayÄ±l oÄŸlu - Riyaziyyat Ã¼zrÉ™ fÉ™lsÉ™fÉ™ doktoru
    </title>
    <!-- CSP vÉ™ Security headers optimized for GitHub Pages -->
    <meta name="robots" content="index, follow" />
    <meta name="author" content="TalÄ±bov Tariyel Ä°smayÄ±l oÄŸlu" />
    <meta
      name="description"
      content="Riyaziyyat Ã¼zrÉ™ fÉ™lsÉ™fÉ™ doktoru, testologiya mÃ¼tÉ™xÉ™ssisi, R proqramlaÅŸdÄ±rma vÉ™ elmi tÉ™dqiqatlar"
    />

    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: #2c3e50;
        background: linear-gradient(
          135deg,
          #1e3c72 0%,
          #2a5298 50%,
          #74b9ff 100%
        );
        min-height: 100vh;
      }

      .main-container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 20px;
      }

      /* Header Section */
      .hero-section {
        background: rgba(255, 255, 255, 0.98);
        border-radius: 25px;
        padding: 50px;
        margin-bottom: 40px;
        box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.3);
        position: relative;
        overflow: hidden;
      }

      .hero-section::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 5px;
        background: linear-gradient(90deg, #1e3c72, #2a5298, #74b9ff);
      }

      .hero-content {
        text-align: center;
        position: relative;
        z-index: 2;
      }

      .profile-avatar {
        width: 180px;
        height: 180px;
        margin: 0 auto 30px;
        background: linear-gradient(135deg, #1e3c72, #74b9ff);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 80px;
        color: white;
        box-shadow: 0 15px 35px rgba(30, 60, 114, 0.3);
        border: 8px solid rgba(255, 255, 255, 0.9);
      }

      .hero-title {
        font-size: 3.2em;
        font-weight: 700;
        background: linear-gradient(135deg, #1e3c72, #74b9ff);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 15px;
        letter-spacing: -1px;
      }

      .hero-subtitle {
        font-size: 1.4em;
        color: #2980b9;
        margin-bottom: 10px;
        font-weight: 600;
      }

      .hero-description {
        font-size: 1.1em;
        color: #5a6c7d;
        max-width: 800px;
        margin: 0 auto 30px;
        line-height: 1.8;
      }

      .stats-row {
        display: flex;
        justify-content: center;
        gap: 40px;
        margin-top: 30px;
        flex-wrap: wrap;
      }

      .stat-item {
        text-align: center;
        padding: 20px;
        background: linear-gradient(135deg, #f8f9fa, #e9ecef);
        border-radius: 15px;
        min-width: 120px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
      }

      .stat-number {
        font-size: 2.5em;
        font-weight: bold;
        color: #1e3c72;
        display: block;
      }

      .stat-label {
        font-size: 0.9em;
        color: #6c757d;
        margin-top: 5px;
      }

      /* System Status Indicator */
      .system-status {
        position: fixed;
        top: 20px;
        left: 20px;
        background: rgba(0, 184, 148, 0.9);
        color: white;
        padding: 8px 15px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 600;
        z-index: 4000;
        backdrop-filter: blur(10px);
        transition: all 0.3s ease;
        cursor: pointer;
      }

      .system-status.saving {
        background: rgba(255, 193, 7, 0.9);
      }

      .system-status.error {
        background: rgba(220, 53, 69, 0.9);
      }

      .system-status.github {
        background: rgba(130, 87, 229, 0.9);
      }

      /* Navigation */
      .navigation {
        background: rgba(255, 255, 255, 0.95);
        border-radius: 20px;
        padding: 25px;
        margin-bottom: 40px;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        backdrop-filter: blur(15px);
      }

      .nav-menu {
        display: flex;
        justify-content: center;
        gap: 15px;
        flex-wrap: wrap;
      }

      .nav-button {
        padding: 15px 30px;
        background: linear-gradient(135deg, #1e3c72, #2a5298);
        color: white;
        border: none;
        border-radius: 30px;
        font-weight: 600;
        font-size: 16px;
        cursor: pointer;
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        position: relative;
        overflow: hidden;
      }

      .nav-button::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, #74b9ff, #0984e3);
        transition: left 0.4s ease;
        z-index: 0;
      }

      .nav-button span {
        position: relative;
        z-index: 1;
      }

      .nav-button:hover::before {
        left: 0;
      }

      .nav-button:hover {
        transform: translateY(-3px);
        box-shadow: 0 15px 30px rgba(30, 60, 114, 0.4);
      }

      .nav-button.active {
        background: linear-gradient(135deg, #74b9ff, #0984e3);
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(116, 185, 255, 0.4);
      }

      /* Content Sections */
      .content-panel {
        background: rgba(255, 255, 255, 0.98);
        border-radius: 25px;
        padding: 50px;
        margin-bottom: 40px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.3);
        display: none;
        position: relative;
      }

      .content-panel.active {
        display: block;
        animation: slideInUp 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      }

      @keyframes slideInUp {
        from {
          opacity: 0;
          transform: translateY(30px) scale(0.95);
        }
        to {
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }

      .section-title {
        font-size: 2.8em;
        font-weight: 700;
        color: #1e3c72;
        margin-bottom: 30px;
        text-align: center;
        position: relative;
        padding-bottom: 20px;
      }

      .section-title::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 100px;
        height: 4px;
        background: linear-gradient(90deg, #1e3c72, #74b9ff);
        border-radius: 2px;
      }

      /* Enhanced Upload Area */
      .upload-zone {
        border: 3px dashed #74b9ff;
        border-radius: 20px;
        padding: 40px;
        text-align: center;
        background: linear-gradient(135deg, #f8f9ff, #e8f4ff);
        margin: 30px 0;
        transition: all 0.3s ease;
        position: relative;
      }

      .upload-zone:hover {
        border-color: #1e3c72;
        background: linear-gradient(135deg, #e8f4ff, #d6ecff);
        transform: translateY(-2px);
      }

      .upload-zone.drag-over {
        border-color: #27ae60;
        background: linear-gradient(135deg, #d5f4e6, #81ecec);
        transform: scale(1.02);
      }

      .upload-tabs {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin-bottom: 25px;
        flex-wrap: wrap;
      }

      .upload-tab {
        padding: 12px 20px;
        background: linear-gradient(135deg, #74b9ff, #0984e3);
        color: white;
        border: none;
        border-radius: 20px;
        cursor: pointer;
        font-weight: 600;
        transition: all 0.3s ease;
        font-size: 14px;
      }

      .upload-tab.active {
        background: linear-gradient(135deg, #1e3c72, #2a5298);
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(30, 60, 114, 0.3);
      }

      .upload-tab:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      }

      .upload-content {
        display: none;
      }

      .upload-content.active {
        display: block;
      }

      .upload-icon {
        font-size: 4em;
        color: #74b9ff;
        margin-bottom: 20px;
      }

      .upload-title {
        font-size: 1.4em;
        color: #1e3c72;
        margin-bottom: 10px;
        font-weight: 600;
      }

      .upload-description {
        color: #5a6c7d;
        margin-bottom: 25px;
        line-height: 1.6;
      }

      .action-button {
        background: linear-gradient(135deg, #1e3c72, #74b9ff);
        color: white;
        padding: 15px 35px;
        border: none;
        border-radius: 25px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 8px 20px rgba(30, 60, 114, 0.3);
        margin: 5px;
      }

      .action-button:hover {
        transform: translateY(-3px);
        box-shadow: 0 15px 30px rgba(30, 60, 114, 0.4);
      }

      .action-button.secondary {
        background: linear-gradient(135deg, #6c5ce7, #a29bfe);
      }

      .action-button.success {
        background: linear-gradient(135deg, #00b894, #00cec9);
      }

      .action-button.danger {
        background: linear-gradient(135deg, #e17055, #e84393);
      }

      .action-button.github {
        background: linear-gradient(135deg, #6c5ce7, #a29bfe);
      }

      /* External Link Styles - CSP Safe */
      .external-link,
      .rpubs-link,
      .github-link,
      .shiny-link {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 12px 24px;
        text-decoration: none;
        border-radius: 10px;
        font-weight: 600;
        transition: all 0.3s ease;
        margin: 5px;
        position: relative;
        overflow: hidden;
      }

      .external-link::before,
      .rpubs-link::before,
      .github-link::before,
      .shiny-link::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          rgba(255, 255, 255, 0.1),
          rgba(255, 255, 255, 0.3),
          rgba(255, 255, 255, 0.1)
        );
        transition: left 0.5s ease;
      }

      .external-link:hover::before,
      .rpubs-link:hover::before,
      .github-link:hover::before,
      .shiny-link:hover::before {
        left: 100%;
      }

      .rpubs-link {
        background: linear-gradient(135deg, #ff9800, #f57c00);
        color: white;
      }

      .rpubs-link:hover {
        background: linear-gradient(135deg, #f57c00, #ef6c00);
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(255, 152, 0, 0.4);
        color: white;
      }

      .github-link {
        background: linear-gradient(135deg, #333, #666);
        color: white;
      }

      .github-link:hover {
        background: linear-gradient(135deg, #666, #333);
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(51, 51, 51, 0.4);
        color: white;
      }

      .shiny-link {
        background: linear-gradient(135deg, #0066cc, #004499);
        color: white;
      }

      .shiny-link:hover {
        background: linear-gradient(135deg, #004499, #003366);
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0, 102, 204, 0.4);
        color: white;
      }

      /* GitHub Connection Indicator */
      .github-status {
        background: rgba(108, 92, 231, 0.1);
        border: 2px solid #6c5ce7;
        border-radius: 15px;
        padding: 15px;
        margin: 20px 0;
        text-align: center;
      }

      .github-status.connected {
        background: rgba(0, 184, 148, 0.1);
        border-color: #00b894;
      }

      /* File Library Enhancements */
      .file-library {
        margin-top: 30px;
      }

      .file-filter {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin-bottom: 20px;
        flex-wrap: wrap;
      }

      .filter-btn {
        padding: 8px 16px;
        background: rgba(116, 185, 255, 0.1);
        border: 2px solid #74b9ff;
        color: #1e3c72;
        border-radius: 15px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 14px;
        font-weight: 600;
      }

      .filter-btn.active,
      .filter-btn:hover {
        background: #74b9ff;
        color: white;
        transform: translateY(-2px);
      }

      /* Card Layouts */
      .cards-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 30px;
        margin-top: 40px;
      }

      .info-card {
        background: linear-gradient(135deg, #f8f9ff 0%, #e8f4ff 100%);
        border-radius: 20px;
        padding: 35px;
        border-left: 6px solid #1e3c72;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .info-card::before {
        content: "";
        position: absolute;
        top: 0;
        right: 0;
        width: 100px;
        height: 100px;
        background: linear-gradient(
          135deg,
          rgba(30, 60, 114, 0.1),
          rgba(116, 185, 255, 0.1)
        );
        border-radius: 50%;
        transform: translate(30px, -30px);
      }

      .info-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 20px 40px rgba(30, 60, 114, 0.15);
      }

      .info-card.rmd-file {
        border-left-color: #e74c3c;
        background: linear-gradient(135deg, #fdf2f2 0%, #fce4ec 100%);
      }

      .info-card.rpubs-file {
        border-left-color: #f39c12;
        background: linear-gradient(135deg, #fef9e7 0%, #fff8e1 100%);
      }

      .card-title {
        font-size: 1.5em;
        font-weight: 600;
        color: #1e3c72;
        margin-bottom: 15px;
      }

      .card-period {
        color: #74b9ff;
        font-weight: 600;
        margin-bottom: 10px;
        font-size: 0.95em;
      }

      .card-description {
        color: #5a6c7d;
        line-height: 1.7;
        position: relative;
        z-index: 1;
      }

      .card-actions {
        display: flex;
        gap: 10px;
        margin-top: 20px;
        flex-wrap: wrap;
      }

      .card-actions .action-button {
        padding: 8px 15px;
        font-size: 14px;
        flex: 1;
        min-width: 120px;
      }

      /* Enhanced Link Display System */
      .link-showcase {
        background: linear-gradient(135deg, #f8f9ff, #e8f4ff);
        border-radius: 20px;
        padding: 30px;
        margin: 30px 0;
        border: 2px solid #74b9ff;
      }

      .link-showcase h3 {
        color: #1e3c72;
        margin-bottom: 20px;
        text-align: center;
        font-size: 1.5em;
      }

      .link-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }

      .link-card {
        background: white;
        border-radius: 15px;
        padding: 25px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
        border-left: 5px solid;
      }

      .link-card.rpubs {
        border-left-color: #ff9800;
      }

      .link-card.github {
        border-left-color: #333;
      }

      .link-card.shiny {
        border-left-color: #0066cc;
      }

      .link-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
      }

      .link-card h4 {
        margin-bottom: 10px;
        color: #2c3e50;
      }

      .link-card p {
        margin-bottom: 15px;
        color: #6c757d;
        line-height: 1.6;
      }

      /* CSP Info Box */
      .csp-info {
        background: linear-gradient(135deg, #fff3cd, #ffeaa7);
        border: 2px solid #ffc107;
        border-radius: 15px;
        padding: 20px;
        margin: 20px 0;
        border-left: 5px solid #ff9f43;
      }

      .csp-info h4 {
        color: #d35400;
        margin-bottom: 10px;
        font-size: 1.2em;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .csp-info p {
        color: #2c3e50;
        margin: 0;
        line-height: 1.6;
      }

      /* RPubs Integration */
      .rpubs-info {
        background: linear-gradient(135deg, #fff8e1, #ffecb3);
        border-radius: 15px;
        padding: 20px;
        margin: 20px 0;
        border-left: 5px solid #ff9800;
      }

      .rpubs-info h4 {
        color: #e65100;
        margin-bottom: 10px;
        font-size: 1.2em;
      }

      /* Progress Indicator */
      .upload-progress {
        margin-top: 20px;
        display: none;
      }

      .progress-bar {
        background: #ecf0f1;
        border-radius: 10px;
        overflow: hidden;
        height: 20px;
        margin-bottom: 10px;
      }

      .progress-fill {
        background: linear-gradient(135deg, #74b9ff, #0984e3);
        height: 100%;
        width: 0%;
        transition: width 0.3s ease;
        border-radius: 10px;
      }

      .progress-text {
        text-align: center;
        color: #5a6c7d;
        font-size: 14px;
        font-weight: 600;
      }

      /* Feature Cards */
      .feature-cards {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 25px;
        margin-top: 40px;
      }

      .feature-card {
        background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
        color: white;
        padding: 40px;
        border-radius: 20px;
        text-align: center;
        box-shadow: 0 15px 35px rgba(30, 60, 114, 0.3);
        transition: all 0.4s ease;
        position: relative;
        overflow: hidden;
      }

      .feature-card::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(
          45deg,
          transparent,
          rgba(255, 255, 255, 0.1),
          transparent
        );
        transform: rotate(45deg);
        transition: all 0.6s ease;
        opacity: 0;
      }

      .feature-card:hover::before {
        opacity: 1;
        animation: shimmer 1.5s ease-in-out;
      }

      @keyframes shimmer {
        0% {
          transform: translateX(-100%) translateY(-100%) rotate(45deg);
        }
        100% {
          transform: translateX(100%) translateY(100%) rotate(45deg);
        }
      }

      .feature-card:hover {
        transform: translateY(-10px) scale(1.02);
        box-shadow: 0 25px 50px rgba(30, 60, 114, 0.4);
      }

      .feature-icon {
        font-size: 3.5em;
        margin-bottom: 20px;
        display: block;
      }

      .feature-title {
        font-size: 1.3em;
        font-weight: 600;
        margin-bottom: 15px;
      }

      .feature-description {
        font-size: 0.95em;
        opacity: 0.9;
        line-height: 1.6;
      }

      /* Contact Section */
      .contact-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 30px;
        margin-top: 40px;
      }

      .contact-card {
        background: linear-gradient(135deg, #1e3c72, #2a5298);
        color: white;
        padding: 40px;
        border-radius: 20px;
        text-align: center;
        box-shadow: 0 15px 35px rgba(30, 60, 114, 0.3);
        transition: all 0.3s ease;
      }

      .contact-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 45px rgba(30, 60, 114, 0.4);
      }

      .contact-icon {
        font-size: 3em;
        margin-bottom: 20px;
        display: block;
      }

      .contact-title {
        font-size: 1.4em;
        font-weight: 600;
        margin-bottom: 15px;
      }

      .contact-info {
        font-size: 1.1em;
        opacity: 0.9;
        line-height: 1.6;
      }

      /* Footer */
      .footer {
        text-align: center;
        padding: 40px;
        color: white;
        background: rgba(30, 60, 114, 0.2);
        border-radius: 20px;
        margin-top: 40px;
        backdrop-filter: blur(10px);
      }

      .footer-text {
        font-size: 1.1em;
        margin-bottom: 10px;
        opacity: 0.9;
      }

      /* Enhanced GitHub/URL Backup Indicator */
      .backup-indicator {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background: rgba(108, 92, 231, 0.9);
        color: white;
        padding: 10px 15px;
        border-radius: 25px;
        font-size: 12px;
        font-weight: 600;
        z-index: 3000;
        backdrop-filter: blur(10px);
        transition: all 0.3s ease;
        cursor: pointer;
        display: none;
      }

      .backup-indicator.show {
        display: block;
      }

      .backup-indicator.success {
        background: rgba(0, 184, 148, 0.9);
      }

      .backup-indicator.error {
        background: rgba(220, 53, 69, 0.9);
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .main-container {
          padding: 15px;
        }

        .hero-section,
        .content-panel {
          padding: 30px 20px;
        }

        .hero-title {
          font-size: 2.2em;
        }

        .hero-subtitle {
          font-size: 1.2em;
        }

        .section-title {
          font-size: 2.2em;
        }

        .stats-row {
          gap: 20px;
        }

        .nav-menu {
          flex-direction: column;
          gap: 10px;
        }

        .nav-button {
          width: 100%;
          padding: 18px;
        }

        .cards-grid,
        .feature-cards,
        .contact-grid,
        .link-grid {
          grid-template-columns: 1fr;
          gap: 20px;
        }

        .upload-tabs {
          flex-direction: column;
        }

        .upload-tab {
          width: 100%;
        }

        .card-actions {
          flex-direction: column;
        }

        .card-actions .action-button {
          width: 100%;
          margin: 5px 0;
        }

        .system-status {
          position: relative;
          margin-bottom: 10px;
          display: inline-block;
        }
      }

      @media (max-width: 480px) {
        .profile-avatar {
          width: 140px;
          height: 140px;
          font-size: 60px;
        }

        .hero-title {
          font-size: 1.8em;
        }
      }

      /* Modal Styles */
      .modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 30px;
        border-bottom: 2px solid #eee;
        background: linear-gradient(135deg, #f8f9ff, #e8f4ff);
      }
      .modal-header h3 {
        margin: 0;
        color: #1e3c72;
        font-size: 1.3em;
      }
      .close-btn {
        background: #e74c3c;
        color: white;
        border: none;
        border-radius: 50%;
        width: 35px;
        height: 35px;
        cursor: pointer;
        font-size: 18px;
        font-weight: bold;
      }
      .modal-body {
        padding: 30px;
      }
      .file-preview {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 10px;
        font-family: "Monaco", "Menlo", "Ubuntu Mono", monospace;
        font-size: 13px;
        line-height: 1.6;
        max-height: 400px;
        overflow-y: auto;
        white-space: pre-wrap;
        color: #2c3e50;
        margin-bottom: 20px;
      }
      .file-stats {
        background: #e8f4ff;
        padding: 15px;
        border-radius: 10px;
        color: #1e3c72;
      }
      .yaml-block {
        background: #fff3cd;
        padding: 15px;
        border-left: 4px solid #ffc107;
        margin: 10px 0;
        border-radius: 5px;
      }
      .code-block {
        background: #d4edda;
        padding: 15px;
        border-left: 4px solid #28a745;
        margin: 10px 0;
        border-radius: 5px;
      }
      .code-block.r-code {
        background: #f8d7da;
        border-left-color: #dc3545;
      }
      .yaml-block strong,
      .code-block strong {
        display: block;
        margin-bottom: 8px;
        font-size: 14px;
      }
      .yaml-block pre,
      .code-block pre {
        margin: 0;
        background: rgba(0, 0, 0, 0.05);
        padding: 10px;
        border-radius: 5px;
        overflow-x: auto;
      }
      .github-app,
      .repos-app,
      .shinyapps-app,
      .cloud-app,
      .zip-app,
      .manual-app,
      .repos-file,
      .cloud-file {
        border-left-width: 6px;
      }
      .github-app,
      .github-file {
        border-left-color: #6c5ce7;
        background: linear-gradient(135deg, #f3f2ff 0%, #e8e6ff 100%);
      }
      .repos-app,
      .repos-file {
        border-left-color: #e17055;
        background: linear-gradient(135deg, #fef7f5 0%, #fdeee9 100%);
      }
      .shinyapps-app {
        border-left-color: #74b9ff;
        background: linear-gradient(135deg, #f0f8ff 0%, #e6f3ff 100%);
      }
      .cloud-app,
      .cloud-file {
        border-left-color: #00b894;
        background: linear-gradient(135deg, #f0fffe 0%, #e6fffc 100%);
      }
      .zip-app {
        border-left-color: #e17055;
        background: linear-gradient(135deg, #fef7f5 0%, #fdeee9 100%);
      }
      .manual-app {
        border-left-color: #6c5ce7;
        background: linear-gradient(135deg, #f3f2ff 0%, #e8e6ff 100%);
      }
    </style>
  </head>
  <body>
    <!-- System Status Indicator -->
    <div id="systemStatus" class="system-status" onclick="showSystemInfo()">
      âœ… Sistem HazÄ±r
    </div>

    <!-- GitHub Backup Indicator -->
    <div
      id="backupIndicator"
      class="backup-indicator"
      onclick="showBackupInfo()"
    >
      ğŸ’¾ GitHub Backup
    </div>

    <div class="main-container">
      <!-- Hero Section -->
      <section class="hero-section">
        <div class="hero-content">
          <div class="profile-avatar">
            <div
              style="
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 8px;
              "
            >
              <div style="font-size: 50px">ğŸ“</div>
              <div style="font-size: 24px">ğŸ“š</div>
            </div>
          </div>
          <h1 class="hero-title">TalÄ±bov Tariyel Ä°smayÄ±l oÄŸlu</h1>
          <p class="hero-subtitle">Riyaziyyat Ã¼zrÉ™ fÉ™lsÉ™fÉ™ doktoru</p>
          <p
            style="
              font-size: 1.2em;
              color: #e74c3c;
              margin-bottom: 8px;
              font-weight: 600;
            "
          >
            AzÉ™rbaycan RespublikasÄ±nÄ±n É™mÉ™kdar mÃ¼É™llimi
          </p>
          <p
            style="
              font-size: 1.1em;
              color: #2980b9;
              margin-bottom: 15px;
              font-weight: 600;
            "
          >
            AzÉ™rbaycan TÉ™hsil Ä°nstitutunun direktor mÃ¼avini
          </p>
          <p class="hero-description">
            31 illik tÉ™hsil tÉ™crÃ¼bÉ™si | Testologiya vÉ™ Riyaziyyat tÉ™hsili
            mÃ¼tÉ™xÉ™ssisi | R ProqramlaÅŸdÄ±rma vÉ™ Shiny TÉ™tbiqlÉ™ri ilÉ™ Test Analizi
          </p>

          <div class="stats-row">
            <div class="stat-item">
              <span class="stat-number">31</span>
              <span class="stat-label">Ä°l TÉ™crÃ¼bÉ™</span>
            </div>
            <div class="stat-item">
              <span class="stat-number">15</span>
              <span class="stat-label">Ä°l Testologiya</span>
            </div>
            <div class="stat-item">
              <span class="stat-number" id="dynamicFilesCount">0</span>
              <span class="stat-label">Elmi Material</span>
            </div>
            <div class="stat-item">
              <span class="stat-number" id="dynamicAppsCount">0</span>
              <span class="stat-label">TÉ™tbiq</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Navigation -->
      <nav class="navigation">
        <div class="nav-menu">
          <button class="nav-button active" onclick="showContent('home')">
            <span>ğŸ  Ana SÉ™hifÉ™</span>
          </button>
          <button class="nav-button" onclick="showContent('experience')">
            <span>ğŸ’¼ PeÅŸÉ™kar Yol</span>
          </button>
          <button class="nav-button" onclick="showContent('tests')">
            <span>ğŸ“Š Test MateriallarÄ±</span>
          </button>
          <button class="nav-button" onclick="showContent('research')">
            <span>ğŸ”¬ Elmi YazÄ±lar</span>
          </button>
          <button class="nav-button" onclick="showContent('applications')">
            <span>ğŸ’» R TÉ™tbiqlÉ™ri</span>
          </button>
          <button class="nav-button" onclick="showContent('external-links')">
            <span>ğŸŒ Xarici LinklÉ™r</span>
          </button>
          <button class="nav-button" onclick="showContent('contact')">
            <span>ğŸ“§ ÆlaqÉ™</span>
          </button>
        </div>

        <!-- Enhanced Data Management Section -->
        <div
          style="
            margin-top: 20px;
            text-align: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
          "
        >
          <h4 style="color: #1e3c72; margin-bottom: 10px">
            ğŸ“ MÉ™lumat Ä°darÉ™etmÉ™si & GitHub Backup
          </h4>

          <!-- GitHub Status Indicator -->
          <div id="githubStatus" class="github-status">
            <p>
              ğŸ”— <strong>GitHub Pages Qorunma Sistemi:</strong> MÉ™lumatlarÄ±nÄ±z
              URL parametrlÉ™ri vÉ™ localStorage vasitÉ™silÉ™ qorunur
            </p>
            <small>Son backup: <span id="lastBackupTime">HeÃ§ vaxt</span></small>
          </div>

          <div
            style="
              display: flex;
              gap: 10px;
              justify-content: center;
              flex-wrap: wrap;
            "
          >
            <button
              class="action-button success"
              onclick="saveDataToFile()"
              title="BÃ¼tÃ¼n mÉ™lumatlarÄ± JSON faylÄ± kimi yadda saxla"
            >
              ğŸ’¾ JSON Backup
            </button>
            <button
              class="action-button github"
              onclick="createGitHubBackup()"
              title="GitHub-da istifadÉ™ Ã¼Ã§Ã¼n URL yaradÄ±r"
            >
              ğŸ”— GitHub Backup
            </button>
            <button
              class="action-button secondary"
              onclick="document.getElementById('dataFileInput').click()"
              title="ÆvvÉ™llÉ™r yadda saxlanmÄ±ÅŸ mÉ™lumatlarÄ± geri yÃ¼klÉ™"
            >
              ğŸ“ Backup YÃ¼klÉ™
            </button>
            <button
              class="action-button"
              onclick="clearAllData()"
              title="BÃ¼tÃ¼n mÉ™lumatlarÄ± tÉ™mizlÉ™"
            >
              ğŸ—‘ï¸ TÉ™mizlÉ™
            </button>
            <button
              class="action-button secondary"
              onclick="shareViaURL()"
              title="Linkini baÅŸqasÄ±na paylaÅŸ"
            >
              ğŸ“¤ PaylaÅŸ
            </button>
          </div>
          <input
            type="file"
            id="dataFileInput"
            accept=".json"
            style="display: none"
            onchange="loadDataFromFile(event)"
          />
          <p
            style="
              font-size: 0.85em;
              color: #6c757d;
              margin-top: 8px;
              line-height: 1.4;
            "
          >
            âœ… <strong>Ã‡oxlu Qorunma:</strong> localStorage + URL parametrlÉ™ri +
            Manual Backup!<br />
            ğŸ’¡ <strong>GitHub Pages Ã¼Ã§Ã¼n:</strong> "GitHub Backup" dÃ¼ymÉ™sini
            istifadÉ™ edin
          </p>
        </div>
      </nav>

      <!-- Home Section -->
      <section id="home" class="content-panel active">
        <h2 class="section-title">XoÅŸ GÉ™lmisiniz</h2>
        <p
          style="
            font-size: 1.2em;
            text-align: center;
            color: #5a6c7d;
            margin-bottom: 40px;
            line-height: 1.8;
          "
        >
          AzÉ™rbaycan RespublikasÄ±nÄ±n É™mÉ™kdar mÃ¼É™llimi, Riyaziyyat Ã¼zrÉ™ fÉ™lsÉ™fÉ™
          doktoru, 31 illik tÉ™hsil tÉ™crÃ¼bÉ™si olan, testologiya elmi sahÉ™sindÉ™
          dÉ™rin tÉ™dqiqatlar aparmÄ±ÅŸ vÉ™ R proqramlaÅŸdÄ±rma dili ilÉ™ innovativ
          hÉ™llÉ™r yaradan bir mÃ¼tÉ™xÉ™ssis olaraq sizinlÉ™ biliklÉ™rimizi bÃ¶lÃ¼ÅŸmÉ™kdÉ™n
          mÉ™mnunam.
        </p>

        <div class="feature-cards">
          <div class="feature-card">
            <span class="feature-icon">ğŸ“ˆ</span>
            <h3 class="feature-title">Testologiya Elmi</h3>
            <p class="feature-description">
              15 il boyunca test nÉ™zÉ™riyyÉ™si vÉ™ praktikasÄ± Ã¼zÉ™rindÉ™ dÉ™rin
              araÅŸdÄ±rmalar
            </p>
          </div>
          <div class="feature-card">
            <span class="feature-icon">ğŸ’»</span>
            <h3 class="feature-title">R ProqramlaÅŸdÄ±rma</h3>
            <p class="feature-description">
              Shiny vÉ™ digÉ™r R paketlÉ™ri ilÉ™ interaktiv analiz vasitÉ™lÉ™ri
            </p>
          </div>
          <div class="feature-card">
            <span class="feature-icon">ğŸ“š</span>
            <h3 class="feature-title">Kurrikulum Ä°nkiÅŸafÄ±</h3>
            <p class="feature-description">
              Riyaziyyat tÉ™hsili standartlarÄ± vÉ™ kurrikulumlarÄ±nÄ±n hazÄ±rlanmasÄ±
            </p>
          </div>
          <div class="feature-card">
            <span class="feature-icon">ğŸ¯</span>
            <h3 class="feature-title">TÉ™hsil Ä°darÉ™etmÉ™si</h3>
            <p class="feature-description">
              31 il direktor vÉ™ direktor mÃ¼avini kimi tÉ™hsil idarÉ™etmÉ™si
            </p>
          </div>
        </div>
      </section>

      <!-- Experience Section -->
      <section id="experience" class="content-panel">
        <h2 class="section-title">PeÅŸÉ™kar Karyera</h2>

        <div class="cards-grid">
          <div class="info-card">
            <h3 class="card-title">Direktor MÃ¼avini</h3>
            <p class="card-period">2024 - Hal-hazÄ±rda</p>
            <p class="card-description">
              <strong>AzÉ™rbaycan TÉ™hsil Ä°nstitutu</strong><br />
              Riyaziyyat Ã¼zrÉ™ fÉ™lsÉ™fÉ™ doktoru, AzÉ™rbaycan RespublikasÄ±nÄ±n
              É™mÉ™kdar mÃ¼É™llimi, test nÉ™ticÉ™lÉ™rinin tÉ™hlilindÉ™ tÉ™crÃ¼bÉ™li
              mÃ¼tÉ™xÉ™ssis.
            </p>
          </div>

          <div class="info-card">
            <h3 class="card-title">Lisey Direktoru</h3>
            <p class="card-period">1993 - 2024 (31 il)</p>
            <p class="card-description">
              <strong
                >Respublika Fizika-Riyaziyyat vÉ™ Ä°nformatika TÉ™mayÃ¼llÃ¼
                Lisey</strong
              ><br />
              ÃœÃ§ onillik boyunca Respublika Fizika riyaziyyat vÉ™ informatika
              tÉ™mayÃ¼llÃ¼ liseyÉ™ rÉ™hbÉ™rlik etmiÅŸ.
            </p>
          </div>

          <div class="info-card">
            <h3 class="card-title">Milli MÉ™slÉ™hÉ™tÃ§i</h3>
            <p class="card-period">TÉ™hsil Ä°slahatÄ± DÃ¶vrÃ¼ndÉ™</p>
            <p class="card-description">
              <strong>AzÉ™rbaycan TÉ™hsil Nazirliyi</strong><br />
              Ä°btidai vÉ™ orta mÉ™ktÉ™blÉ™r Ã¼Ã§Ã¼n riyaziyyat fÉ™nni Ã¼zrÉ™ milli
              standartlarÄ±n vÉ™ kurrikulumlarÄ±n hazÄ±rlanmasÄ±nda aparÄ±cÄ± rolu
              olmuÅŸ milli mÉ™slÉ™hÉ™tÃ§i.
            </p>
          </div>

          <div class="info-card">
            <h3 class="card-title">Testologiya TÉ™dqiqatÃ§Ä±sÄ±</h3>
            <p class="card-period">2009 - Hal-hazÄ±rda (15 il)</p>
            <p class="card-description">
              <strong>MÃ¼stÉ™qil Elmi AraÅŸdÄ±rmalar</strong><br />
              Test nÉ™zÉ™riyyÉ™si, psixometriya vÉ™ R proqram dili ilÉ™ statistik
              analiz metodlarÄ±nÄ±n tÉ™hsil sahÉ™sinÉ™ tÉ™tbiqi Ã¼zrÉ™ mÃ¼tÉ™xÉ™ssis.
            </p>
          </div>
        </div>
      </section>

      <!-- Tests Section -->
      <section id="tests" class="content-panel">
        <h2 class="section-title">Test MateriallarÄ± vÉ™ SÄ±naq VasitÉ™lÉ™ri</h2>

        <div class="upload-zone">
          <div class="upload-icon">ğŸ“¤</div>
          <h3 class="upload-title">Test YÃ¼klÉ™mÉ™ MÉ™rkÉ™zi</h3>
          <p class="upload-description">
            TestlÉ™rinizi, sual bankÄ±nÄ±zÄ± vÉ™ analiz materiallarÄ±nÄ±zÄ± buraya É™lavÉ™
            edin
          </p>
          <button class="action-button" onclick="handleTestUpload()">
            Material ÆlavÉ™ Et
          </button>
        </div>

        <div class="feature-cards">
          <div class="feature-card">
            <span class="feature-icon">ğŸ”¢</span>
            <h3 class="feature-title">Riyaziyyat Test BankÄ±</h3>
            <p class="feature-description">
              Ä°btidai vÉ™ orta mÉ™ktÉ™b sÉ™viyyÉ™si Ã¼Ã§Ã¼n hÉ™rtÉ™rÉ™fli test kolleksiyasÄ±
            </p>
            <button
              class="action-button"
              style="margin-top: 20px"
              onclick="viewTestBank('math')"
            >
              Ä°ndi Bax
            </button>
          </div>

          <div class="feature-card">
            <span class="feature-icon">ğŸ§®</span>
            <h3 class="feature-title">Testologiya MetodlarÄ±</h3>
            <p class="feature-description">
              Test hazÄ±rlama, validasiya vÉ™ gÃ¼venilirlik analizi Ã¼sullarÄ±
            </p>
            <button
              class="action-button"
              style="margin-top: 20px"
              onclick="viewTestBank('methodology')"
            >
              Ä°ndi Bax
            </button>
          </div>

          <div class="feature-card">
            <span class="feature-icon">ğŸ“Š</span>
            <h3 class="feature-title">Statistik Analiz</h3>
            <p class="feature-description">
              R proqramÄ± ilÉ™ hazÄ±rlanmÄ±ÅŸ test analizi vÉ™ hesabat vasitÉ™lÉ™ri
            </p>
            <button
              class="action-button"
              style="margin-top: 20px"
              onclick="viewTestBank('statistics')"
            >
              Ä°ndi Bax
            </button>
          </div>
        </div>
      </section>

      <!-- Research Section (original functionality kept) -->
      <section id="research" class="content-panel">
        <h2 class="section-title">Elmi AraÅŸdÄ±rmalar vÉ™ NÉ™zÉ™ri YazÄ±lar</h2>

        <!-- Enhanced Upload Zone -->
        <div class="upload-zone" id="researchUploadZone">
          <div class="upload-tabs">
            <button
              class="upload-tab active"
              onclick="switchUploadTab('files')"
            >
              ğŸ“ Fayl YÃ¼klÉ™mÉ™
            </button>
            <button class="upload-tab" onclick="switchUploadTab('repos')">
              ğŸ”— DigÉ™r Repo
            </button>
            <button class="upload-tab" onclick="switchUploadTab('rpubs')">
              ğŸŒ RPubs Linki
            </button>
            <button class="upload-tab" onclick="switchUploadTab('github')">
              ğŸ’» GitHub Repo
            </button>
            <button class="upload-tab" onclick="switchUploadTab('cloud')">
              â˜ï¸ Cloud Hosting
            </button>
            <button class="upload-tab" onclick="switchUploadTab('manual')">
              âœï¸ Manual GiriÅŸ
            </button>
          </div>

          <!-- File Upload Tab -->
          <div id="files-upload" class="upload-content active">
            <div class="upload-icon">ğŸ“„</div>
            <h3 class="upload-title">R Markdown vÉ™ DigÉ™r Fayllar</h3>
            <p class="upload-description">
              .Rmd, .pdf, .doc, .html, .R, .zip vÉ™ digÉ™r formatdakÄ± fayllarÄ±nÄ±zÄ±
              sÃ¼rÃ¼klÉ™yin vÉ™ ya seÃ§in.<br />
              DÉ™stÉ™klÉ™nÉ™n formatlar: Rmd, R, PDF, Word, HTML, TXT, MD, ZIP
            </p>
            <input
              type="file"
              id="fileInput"
              multiple
              accept=".rmd,.r,.pdf,.doc,.docx,.html,.txt,.md,.zip,.csv,.xlsx"
              style="display: none"
              onchange="handleFileUpload(event)"
            />
            <div
              style="
                display: flex;
                gap: 10px;
                justify-content: center;
                flex-wrap: wrap;
              "
            >
              <button
                class="action-button"
                onclick="document.getElementById('fileInput').click()"
              >
                ğŸ“‚ FayllarÄ± SeÃ§
              </button>
              <button class="action-button secondary" onclick="createNewRmd()">
                ğŸ“ Yeni .Rmd Yarat
              </button>
            </div>
          </div>

          <!-- Other Repositories Tab -->
          <div id="repos-upload" class="upload-content">
            <div class="upload-icon">ğŸ”—</div>
            <h3 class="upload-title">DigÉ™r Repository PlatformalarÄ±</h3>
            <p class="upload-description">
              GitLab, Bitbucket, Codeberg vÉ™ digÉ™r git platformalarÄ±nda yerlÉ™ÅŸÉ™n
              elmi materiallarÄ±nÄ±zÄ± É™lavÉ™ edin.<br />
              DÉ™stÉ™klÉ™nÉ™n: R Markdown, R Scripts, Data Analysis, Research Papers
            </p>
            <div style="margin: 20px 0">
              <select
                id="researchRepoPlatform"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #e17055;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              >
                <option value="gitlab">ğŸ¦Š GitLab</option>
                <option value="bitbucket">ğŸ“˜ Bitbucket</option>
                <option value="codeberg">ğŸŒ¿ Codeberg</option>
                <option value="sourceforge">ğŸ”§ SourceForge</option>
                <option value="other">ğŸ”— DigÉ™r Repository</option>
              </select>
              <br />
              <input
                type="url"
                id="researchRepoUrl"
                placeholder="https://gitlab.com/username/research-project"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #e17055;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              />
              <br />
              <input
                type="text"
                id="researchRepoTitle"
                placeholder="TÉ™dqiqat/Material baÅŸlÄ±ÄŸÄ±"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #e17055;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              />
              <br />
              <select
                id="researchRepoType"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #e17055;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              >
                <option value="rmarkdown">ğŸ“‹ R Markdown Analiz</option>
                <option value="research">ğŸ”¬ Elmi TÉ™dqiqat</option>
                <option value="script">ğŸ“„ R Script</option>
                <option value="dataset">ğŸ“Š MÉ™lumat Toplusu</option>
                <option value="paper">ğŸ“ Elmi MÉ™qalÉ™</option>
                <option value="book">ğŸ“š Kitab/Ælyazma</option>
              </select>
              <br />
              <textarea
                id="researchRepoDescription"
                placeholder="Elmi materialÄ±n tÉ™sviri vÉ™ mÉ™zmunu"
                rows="3"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #e17055;
                  font-size: 16px;
                  resize: vertical;
                "
              ></textarea>
            </div>
            <button
              class="action-button danger"
              onclick="addResearchRepositoryEntry()"
            >
              ğŸ”— Repository ÆlavÉ™ Et
            </button>
          </div>

          <!-- RPubs Link Tab -->
          <div id="rpubs-upload" class="upload-content">
            <div class="upload-icon">ğŸŒ</div>
            <h3 class="upload-title">RPubs PublikasiyasÄ± ÆlavÉ™ Et</h3>
            <p class="upload-description">
              RPubs.com-da dÉ™rc edilmiÅŸ R Markdown É™sÉ™rlÉ™rinizin linkini É™lavÉ™
              edin.<br />
              MÉ™sÉ™lÉ™n: https://rpubs.com/username/document-title
            </p>
            <div style="margin: 20px 0">
              <input
                type="url"
                id="rpubsUrl"
                placeholder="https://rpubs.com/..."
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #74b9ff;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              />
              <br />
              <input
                type="text"
                id="rpubsTitle"
                placeholder="ÆsÉ™rin baÅŸlÄ±ÄŸÄ±"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #74b9ff;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              />
              <br />
              <textarea
                id="rpubsDescription"
                placeholder="QÄ±sa tÉ™svir (istÉ™ksiz)"
                rows="3"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #74b9ff;
                  font-size: 16px;
                  resize: vertical;
                "
              ></textarea>
            </div>
            <button class="action-button success" onclick="addRPubsLink()">
              ğŸŒ RPubs Linki ÆlavÉ™ Et
            </button>
          </div>

          <!-- GitHub Repository Tab -->
          <div id="github-upload" class="upload-content">
            <div class="upload-icon">ğŸ’»</div>
            <h3 class="upload-title">GitHub Repository ÆlavÉ™ Et</h3>
            <p class="upload-description">
              R layihÉ™lÉ™rinizin, R Markdown fayllarÄ±nÄ±zÄ±n vÉ™ ya digÉ™r elmi
              materiallarÄ±n GitHub repository linkini É™lavÉ™ edin.
            </p>
            <div style="margin: 20px 0">
              <input
                type="url"
                id="githubUrl"
                placeholder="https://github.com/username/repository"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #6c5ce7;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              />
              <br />
              <input
                type="text"
                id="githubTitle"
                placeholder="Repository baÅŸlÄ±ÄŸÄ±"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #6c5ce7;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              />
              <br />
              <textarea
                id="githubDescription"
                placeholder="LayihÉ™ tÉ™sviri"
                rows="3"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #6c5ce7;
                  font-size: 16px;
                  resize: vertical;
                "
              ></textarea>
            </div>
            <button class="action-button secondary" onclick="addGitHubRepo()">
              ğŸ’» GitHub Repo ÆlavÉ™ Et
            </button>
          </div>

          <!-- Cloud Hosting Tab -->
          <div id="cloud-upload" class="upload-content">
            <div class="upload-icon">â˜ï¸</div>
            <h3 class="upload-title">Cloud Hosting MateriallarÄ±</h3>
            <p class="upload-description">
              DigitalOcean, Shinyapps.io, AWS, Google Cloud vÉ™ digÉ™r bulud
              platformalarÄ±nda yerlÉ™ÅŸÉ™n elmi materiallarÄ±nÄ±zÄ± É™lavÉ™ edin.<br />
              DÉ™stÉ™klÉ™nÉ™n: R Shiny Apps, Dashboards, Online AnalizlÉ™r, Hosted
              Documents
            </p>
            <div style="margin: 20px 0">
              <select
                id="researchCloudPlatform"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #00b894;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              >
                <option value="shinyapps">ğŸŒ Shinyapps.io</option>
                <option value="digitalocean">ğŸŒŠ DigitalOcean</option>
                <option value="aws">â˜ï¸ Amazon AWS</option>
                <option value="gcp">ğŸŒ Google Cloud</option>
                <option value="azure">ğŸ’™ Microsoft Azure</option>
                <option value="heroku">ğŸš€ Heroku</option>
                <option value="vercel">â–² Vercel</option>
                <option value="netlify">ğŸ”· Netlify</option>
                <option value="other">â˜ï¸ DigÉ™r Cloud</option>
              </select>
              <br />
              <input
                type="url"
                id="researchCloudUrl"
                placeholder="https://username.shinyapps.io/analysis/"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #00b894;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              />
              <br />
              <input
                type="text"
                id="researchCloudTitle"
                placeholder="Material/Analiz baÅŸlÄ±ÄŸÄ±"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #00b894;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              />
              <br />
              <select
                id="researchCloudType"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #00b894;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              >
                <option value="shiny">ğŸ“Š R Shiny Analiz</option>
                <option value="dashboard">ğŸ“ˆ Ä°nteraktiv Dashboard</option>
                <option value="webapp">ğŸŒ Web TÉ™tbiqi</option>
                <option value="document">ğŸ“„ Online SÉ™nÉ™d</option>
                <option value="api">ğŸ”Œ Data API</option>
                <option value="other">ğŸ”§ DigÉ™r</option>
              </select>
              <br />
              <textarea
                id="researchCloudDescription"
                placeholder="Online materialÄ±n tÉ™sviri vÉ™ necÉ™ istifadÉ™ edilÉ™cÉ™yi"
                rows="3"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #00b894;
                  font-size: 16px;
                  resize: vertical;
                "
              ></textarea>
            </div>
            <button
              class="action-button"
              style="background: linear-gradient(135deg, #00b894, #00cec9)"
              onclick="addResearchCloudEntry()"
            >
              â˜ï¸ Cloud Material ÆlavÉ™ Et
            </button>
          </div>

          <!-- Manual Entry Tab -->
          <div id="manual-upload" class="upload-content">
            <div class="upload-icon">âœï¸</div>
            <h3 class="upload-title">Manual MÉ™qalÉ™/Kitab GiriÅŸi</h3>
            <p class="upload-description">
              Xarici linklÉ™r, nÉ™ÅŸr edilmiÅŸ kitablar, mÉ™qalÉ™lÉ™r vÉ™ digÉ™r elmi
              É™sÉ™rlÉ™r Ã¼Ã§Ã¼n manual mÉ™lumat giriÅŸi.<br />
              Ä°stÉ™nilÉ™n elmi material vÉ™ ya xarici mÉ™nbÉ™ Ã¼Ã§Ã¼n istifadÉ™ edin.
            </p>
            <div style="margin: 20px 0">
              <input
                type="text"
                id="manualTitle"
                placeholder="ÆsÉ™rin baÅŸlÄ±ÄŸÄ±"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #e17055;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              />
              <br />
              <input
                type="text"
                id="manualAuthors"
                placeholder="MÃ¼É™lliflÉ™r"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #e17055;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              />
              <br />
              <input
                type="text"
                id="manualYear"
                placeholder="NÉ™ÅŸr ili"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #e17055;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              />
              <br />
              <input
                type="url"
                id="manualLink"
                placeholder="Link (istÉ™ksiz - mÉ™s: journal, kitab vÉ™ s.)"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #e17055;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              />
              <br />
              <textarea
                id="manualDescription"
                placeholder="ÆsÉ™rin tÉ™sviri vÉ™ elmi É™hÉ™miyyÉ™ti"
                rows="4"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #e17055;
                  font-size: 16px;
                  resize: vertical;
                "
              ></textarea>
            </div>
            <button class="action-button danger" onclick="addManualEntry()">
              âœï¸ Manual GiriÅŸ ÆlavÉ™ Et
            </button>
          </div>

          <!-- Progress Bar -->
          <div class="upload-progress" id="uploadProgress">
            <div class="progress-bar">
              <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text" id="progressText">YÃ¼klÉ™nir...</div>
          </div>
        </div>

        <!-- File Filter -->
        <div class="file-library">
          <div class="file-filter">
            <button class="filter-btn active" onclick="filterFiles('all')">
              ğŸ” HamÄ±sÄ±
            </button>
            <button class="filter-btn" onclick="filterFiles('rmd')">
              ğŸ“Š R Markdown
            </button>
            <button class="filter-btn" onclick="filterFiles('repos')">
              ğŸ”— DigÉ™r Repo
            </button>
            <button class="filter-btn" onclick="filterFiles('rpubs')">
              ğŸŒ RPubs
            </button>
            <button class="filter-btn" onclick="filterFiles('github')">
              ğŸ’» GitHub
            </button>
            <button class="filter-btn" onclick="filterFiles('cloud')">
              â˜ï¸ Cloud
            </button>
            <button class="filter-btn" onclick="filterFiles('pdf')">
              ğŸ“„ PDF
            </button>
            <button class="filter-btn" onclick="filterFiles('manual')">
              âœï¸ Manual
            </button>
          </div>

          <div id="uploadedFiles"></div>
        </div>

        <div class="cards-grid">
          <div class="info-card">
            <h3 class="card-title">Testologiya Elmi: MÃ¼asir PerspektivlÉ™r</h3>
            <p class="card-period">2024</p>
            <p class="card-description">
              15 illik tÉ™dqiqat tÉ™crÃ¼bÉ™si É™sasÄ±nda testologiya elminin mÃ¼asir
              vÉ™ziyyÉ™ti, problemlÉ™ri vÉ™ inkiÅŸaf istiqamÉ™tlÉ™ri haqqÄ±nda
              fundamental araÅŸdÄ±rma.
            </p>
            <div class="card-actions">
              <button class="action-button" onclick="openResearch('testology')">
                ğŸ“– Tam MÉ™tn
              </button>
              <button
                class="action-button secondary"
                onclick="downloadResearch('testology')"
              >
                â¬‡ï¸ YÃ¼klÉ™
              </button>
            </div>
          </div>

          <div class="info-card">
            <h3 class="card-title">
              AzÉ™rbaycan TÉ™hsilindÉ™ Riyaziyyat StandartlarÄ±
            </h3>
            <p class="card-period">2023</p>
            <p class="card-description">
              Milli kurrikulumun formalaÅŸmasÄ± prosesindÉ™ É™ldÉ™ edilÉ™n tÉ™crÃ¼bÉ™ vÉ™
              beynÉ™lxalq standartlarla mÃ¼qayisÉ™li analiz.
            </p>
            <div class="card-actions">
              <button class="action-button" onclick="openResearch('standards')">
                ğŸ“– Tam MÉ™tn
              </button>
              <button
                class="action-button secondary"
                onclick="downloadResearch('standards')"
              >
                â¬‡ï¸ YÃ¼klÉ™
              </button>
            </div>
          </div>

          <div class="info-card">
            <h3 class="card-title">R Dili ilÉ™ TÉ™hsil AnalitikasÄ±</h3>
            <p class="card-period">2022</p>
            <p class="card-description">
              Shiny vÉ™ digÉ™r R paketlÉ™rinin tÉ™hsil sektorunda tÉ™tbiqi, praktiki
              nÃ¼munÉ™lÉ™r vÉ™ metodoloji tÃ¶vsiyÉ™lÉ™r.
            </p>
            <div class="card-actions">
              <button
                class="action-button"
                onclick="openResearch('r-analytics')"
              >
                ğŸ“– Tam MÉ™tn
              </button>
              <button
                class="action-button secondary"
                onclick="downloadResearch('r-analytics')"
              >
                â¬‡ï¸ YÃ¼klÉ™
              </button>
            </div>
          </div>

          <div class="info-card">
            <h3 class="card-title">Psixometriya vÉ™ Test ValidasiyasÄ±</h3>
            <p class="card-period">2021</p>
            <p class="card-description">
              Test alÉ™tlÉ™rinin elmi cÉ™hÉ™tdÉ™n dÃ¼zgÃ¼n qurulmasÄ±, gÃ¼venilirlik vÉ™
              etibarlÄ±lÄ±q gÃ¶stÉ™ricilÉ™rinin hesablanmasÄ±.
            </p>
            <div class="card-actions">
              <button
                class="action-button"
                onclick="openResearch('psychometry')"
              >
                ğŸ“– Tam MÉ™tn
              </button>
              <button
                class="action-button secondary"
                onclick="downloadResearch('psychometry')"
              >
                â¬‡ï¸ YÃ¼klÉ™
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- Applications Section (original functionality kept) -->
      <section id="applications" class="content-panel">
        <h2 class="section-title">R vÉ™ Shiny TÉ™tbiqlÉ™ri</h2>

        <!-- Enhanced App Upload Zone -->
        <div class="upload-zone" id="appUploadZone">
          <div class="upload-tabs">
            <button class="upload-tab active" onclick="switchAppTab('github')">
              ğŸ’» GitHub
            </button>
            <button class="upload-tab" onclick="switchAppTab('repos')">
              ğŸ”— DigÉ™r Repo
            </button>
            <button class="upload-tab" onclick="switchAppTab('shinyapps')">
              ğŸŒ Shinyapps.io
            </button>
            <button class="upload-tab" onclick="switchAppTab('cloud')">
              â˜ï¸ Cloud Hosting
            </button>
            <button class="upload-tab" onclick="switchAppTab('zip')">
              ğŸ“¦ ZIP YÃ¼klÉ™mÉ™
            </button>
            <button class="upload-tab" onclick="switchAppTab('manual')">
              âœï¸ DigÉ™r
            </button>
          </div>

          <!-- GitHub App Tab -->
          <div id="github-app" class="upload-content active">
            <div class="upload-icon">ğŸ’»</div>
            <h3 class="upload-title">GitHub Repository</h3>
            <p class="upload-description">
              GitHub-da yerlÉ™ÅŸÉ™n R Shiny, R Markdown vÉ™ digÉ™r R layihÉ™lÉ™rinizi
              É™lavÉ™ edin.<br />
              DÉ™stÉ™klÉ™nÉ™n: Shiny apps, R packages, R scripts, RMarkdown
              dashboards
            </p>
            <div style="margin: 20px 0">
              <input
                type="url"
                id="appGithubUrl"
                placeholder="https://github.com/username/shiny-app"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #6c5ce7;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              />
              <br />
              <input
                type="text"
                id="appGithubTitle"
                placeholder="TÉ™tbiq adÄ±"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #6c5ce7;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              />
              <br />
              <select
                id="appGithubType"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #6c5ce7;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              >
                <option value="shiny">ğŸ“Š Shiny Application</option>
                <option value="rmarkdown">ğŸ“‹ R Markdown App</option>
                <option value="package">ğŸ“¦ R Package</option>
                <option value="script">ğŸ“„ R Script</option>
                <option value="dashboard">ğŸ“ˆ Dashboard</option>
              </select>
              <br />
              <textarea
                id="appGithubDescription"
                placeholder="TÉ™tbiq tÉ™sviri vÉ™ xÃ¼susiyyÉ™tlÉ™ri"
                rows="3"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #6c5ce7;
                  font-size: 16px;
                  resize: vertical;
                "
              ></textarea>
            </div>
            <button class="action-button secondary" onclick="addGitHubApp()">
              ğŸ’» GitHub ÆlavÉ™ Et
            </button>
          </div>

          <!-- Other Repositories Tab -->
          <div id="repos-app" class="upload-content">
            <div class="upload-icon">ğŸ”—</div>
            <h3 class="upload-title">DigÉ™r Repository PlatformalarÄ±</h3>
            <p class="upload-description">
              GitLab, Bitbucket, Codeberg vÉ™ digÉ™r git platformalarÄ±nda yerlÉ™ÅŸÉ™n
              layihÉ™lÉ™rinizi É™lavÉ™ edin.<br />
              DÉ™stÉ™klÉ™nÉ™n: GitLab, Bitbucket, Codeberg, SourceForge vÉ™ s.
            </p>
            <div style="margin: 20px 0">
              <select
                id="repoPlatform"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #e17055;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              >
                <option value="gitlab">ğŸ¦Š GitLab</option>
                <option value="bitbucket">ğŸ“˜ Bitbucket</option>
                <option value="codeberg">ğŸŒ¿ Codeberg</option>
                <option value="sourceforge">ğŸ”§ SourceForge</option>
                <option value="other">ğŸ”— DigÉ™r</option>
              </select>
              <br />
              <input
                type="url"
                id="repoUrl"
                placeholder="https://gitlab.com/username/project"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #e17055;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              />
              <br />
              <input
                type="text"
                id="repoTitle"
                placeholder="LayihÉ™ adÄ±"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #e17055;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              />
              <br />
              <select
                id="repoType"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #e17055;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              >
                <option value="shiny">ğŸ“Š Shiny Application</option>
                <option value="rmarkdown">ğŸ“‹ R Markdown App</option>
                <option value="package">ğŸ“¦ R Package</option>
                <option value="script">ğŸ“„ R Script</option>
                <option value="dashboard">ğŸ“ˆ Dashboard</option>
                <option value="analysis">ğŸ” Data Analysis</option>
              </select>
              <br />
              <textarea
                id="repoDescription"
                placeholder="LayihÉ™ tÉ™sviri vÉ™ texniki detallar"
                rows="3"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #e17055;
                  font-size: 16px;
                  resize: vertical;
                "
              ></textarea>
            </div>
            <button class="action-button danger" onclick="addRepositoryApp()">
              ğŸ”— Repository ÆlavÉ™ Et
            </button>
          </div>

          <!-- Shinyapps.io Tab -->
          <div id="shinyapps-app" class="upload-content">
            <div class="upload-icon">ğŸŒ</div>
            <h3 class="upload-title">Shinyapps.io TÉ™tbiqi</h3>
            <p class="upload-description">
              Shinyapps.io platformasÄ±nda dÉ™rc edilmiÅŸ tÉ™tbiqlÉ™rinizi É™lavÉ™
              edin.<br />
              MÉ™sÉ™lÉ™n: https://username.shinyapps.io/app-name/
            </p>
            <div style="margin: 20px 0">
              <input
                type="url"
                id="shinyappsUrl"
                placeholder="https://username.shinyapps.io/app-name/"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #74b9ff;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              />
              <br />
              <input
                type="text"
                id="shinyappsTitle"
                placeholder="TÉ™tbiq baÅŸlÄ±ÄŸÄ±"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #74b9ff;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              />
              <br />
              <select
                id="shinyappsCategory"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #74b9ff;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              >
                <option value="dashboard">ğŸ“Š Test Analizi Dashboard</option>
                <option value="calculator">ğŸ§® Hesablama AlÉ™ti</option>
                <option value="visualization">ğŸ“ˆ Data VizuallaÅŸdÄ±rma</option>
                <option value="simulator">ğŸ² Simulyasiya AlÉ™ti</option>
                <option value="educational">ğŸ“ TÉ™hsil AlÉ™ti</option>
                <option value="other">ğŸ”§ DigÉ™r</option>
              </select>
              <br />
              <textarea
                id="shinyappsDescription"
                placeholder="TÉ™tbiqin funksiyalarÄ± vÉ™ istifadÉ™ sahÉ™si"
                rows="3"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #74b9ff;
                  font-size: 16px;
                  resize: vertical;
                "
              ></textarea>
            </div>
            <button class="action-button success" onclick="addShinyappsApp()">
              ğŸŒ Shinyapps.io ÆlavÉ™ Et
            </button>
          </div>

          <!-- Cloud Hosting Tab -->
          <div id="cloud-app" class="upload-content">
            <div class="upload-icon">â˜ï¸</div>
            <h3 class="upload-title">Cloud Hosting PlatformalarÄ±</h3>
            <p class="upload-description">
              DigitalOcean, AWS, Google Cloud, Azure vÉ™ digÉ™r bulud
              platformalarÄ±nda yerlÉ™ÅŸÉ™n tÉ™tbiqlÉ™rinizi É™lavÉ™ edin.<br />
              DÉ™stÉ™klÉ™nÉ™n: CanlÄ± tÉ™tbiqlÉ™r, API-lÉ™r, Web ServislÉ™r
            </p>
            <div style="margin: 20px 0">
              <select
                id="cloudPlatform"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #00b894;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              >
                <option value="digitalocean">ğŸŒŠ DigitalOcean</option>
                <option value="aws">â˜ï¸ Amazon AWS</option>
                <option value="gcp">ğŸŒ Google Cloud</option>
                <option value="azure">ğŸ’™ Microsoft Azure</option>
                <option value="heroku">ğŸš€ Heroku</option>
                <option value="vercel">â–² Vercel</option>
                <option value="netlify">ğŸ”· Netlify</option>
                <option value="other">â˜ï¸ DigÉ™r</option>
              </select>
              <br />
              <input
                type="url"
                id="cloudUrl"
                placeholder="https://your-app.digitalocean.app"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #00b894;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              />
              <br />
              <input
                type="text"
                id="cloudTitle"
                placeholder="TÉ™tbiq adÄ±"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #00b894;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              />
              <br />
              <select
                id="cloudAppType"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #00b894;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              >
                <option value="shiny">ğŸ“Š Shiny Web App</option>
                <option value="api">ğŸ”Œ REST API</option>
                <option value="dashboard">ğŸ“ˆ Dashboard</option>
                <option value="webapp">ğŸŒ Web Application</option>
                <option value="microservice">âš™ï¸ Microservice</option>
                <option value="other">ğŸ”§ DigÉ™r</option>
              </select>
              <br />
              <textarea
                id="cloudDescription"
                placeholder="TÉ™tbiq haqqÄ±nda, texniki detallar vÉ™ istifadÉ™ tÉ™limatÄ±"
                rows="3"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #00b894;
                  font-size: 16px;
                  resize: vertical;
                "
              ></textarea>
            </div>
            <button
              class="action-button"
              style="background: linear-gradient(135deg, #00b894, #00cec9)"
              onclick="addCloudApp()"
            >
              â˜ï¸ Cloud TÉ™tbiqi ÆlavÉ™ Et
            </button>
          </div>

          <!-- ZIP Upload Tab -->
          <div id="zip-app" class="upload-content">
            <div class="upload-icon">ğŸ“¦</div>
            <h3 class="upload-title">ZIP Fayl YÃ¼klÉ™mÉ™</h3>
            <p class="upload-description">
              TÉ™tbiqinizin bÃ¼tÃ¼n fayllarÄ±nÄ± ZIP formatÄ±nda yÃ¼klÉ™yin.<br />
              Daxil olmalÄ±: ui.R, server.R, .Rmd, mÉ™lumat fayllarÄ± vÉ™ s.
            </p>
            <input
              type="file"
              id="zipAppInput"
              accept=".zip,.rar,.7z"
              style="display: none"
              onchange="handleZipAppUpload(event)"
            />
            <div style="margin: 20px 0">
              <input
                type="text"
                id="zipAppTitle"
                placeholder="TÉ™tbiq baÅŸlÄ±ÄŸÄ±"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #e17055;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              />
              <br />
              <textarea
                id="zipAppDescription"
                placeholder="ZIP faylÄ±nÄ±n mÉ™zmunu haqqÄ±nda qeydlÉ™r"
                rows="2"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #e17055;
                  font-size: 16px;
                  resize: vertical;
                  margin-bottom: 15px;
                "
              ></textarea>
            </div>
            <div
              style="
                display: flex;
                gap: 10px;
                justify-content: center;
                flex-wrap: wrap;
              "
            >
              <button
                class="action-button danger"
                onclick="document.getElementById('zipAppInput').click()"
              >
                ğŸ“¦ ZIP Fayl SeÃ§
              </button>
              <button
                class="action-button secondary"
                onclick="createShinyTemplate()"
              >
                ğŸ“ Shiny Åablon Yarat
              </button>
            </div>
          </div>

          <!-- Manual Link Tab -->
          <div id="manual-app" class="upload-content">
            <div class="upload-icon">âœï¸</div>
            <h3 class="upload-title">DigÉ™r Platform vÉ™ XidmÉ™tlÉ™r</h3>
            <p class="upload-description">
              YuxarÄ±da olmayan digÉ™r platformalar, ÅŸÉ™xsi serverlÉ™r vÉ™ ya xÃ¼susi
              hostinq xidmÉ™tlÉ™ri Ã¼Ã§Ã¼n istifadÉ™ edin.
            </p>
            <div style="margin: 20px 0">
              <input
                type="url"
                id="manualAppUrl"
                placeholder="https://your-custom-domain.com"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #6c5ce7;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              />
              <br />
              <input
                type="text"
                id="manualAppTitle"
                placeholder="TÉ™tbiq adÄ±"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #6c5ce7;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              />
              <br />
              <input
                type="text"
                id="manualAppPlatform"
                placeholder="Platform/XidmÉ™t adÄ± (mÉ™s: ÅÉ™xsi Server, Firebase vÉ™ s.)"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #6c5ce7;
                  font-size: 16px;
                  margin-bottom: 10px;
                "
              />
              <br />
              <textarea
                id="manualAppDescription"
                placeholder="TÉ™tbiq haqqÄ±nda É™traflÄ± mÉ™lumat vÉ™ texniki detallar"
                rows="3"
                style="
                  width: 100%;
                  max-width: 500px;
                  padding: 12px;
                  border-radius: 10px;
                  border: 2px solid #6c5ce7;
                  font-size: 16px;
                  resize: vertical;
                "
              ></textarea>
            </div>
            <button class="action-button secondary" onclick="addManualApp()">
              âœï¸ DigÉ™r Platform ÆlavÉ™ Et
            </button>
          </div>
        </div>

        <!-- App Library -->
        <div class="file-library">
          <h3 style="text-align: center; color: #1e3c72; margin: 30px 0 20px 0">
            ğŸ“± TÉ™tbiq KitabxanasÄ±
          </h3>
          <div class="file-filter">
            <button class="filter-btn active" onclick="filterApps('all')">
              ğŸ” HamÄ±sÄ±
            </button>
            <button class="filter-btn" onclick="filterApps('github')">
              ğŸ’» GitHub
            </button>
            <button class="filter-btn" onclick="filterApps('repos')">
              ğŸ”— DigÉ™r Repo
            </button>
            <button class="filter-btn" onclick="filterApps('shinyapps')">
              ğŸŒ Shinyapps.io
            </button>
            <button class="filter-btn" onclick="filterApps('cloud')">
              â˜ï¸ Cloud
            </button>
            <button class="filter-btn" onclick="filterApps('zip')">
              ğŸ“¦ ZIP
            </button>
            <button class="filter-btn" onclick="filterApps('manual')">
              âœï¸ DigÉ™r
            </button>
          </div>
          <div id="uploadedApps"></div>
        </div>

        <div class="feature-cards">
          <div class="feature-card">
            <span class="feature-icon">ğŸ“Š</span>
            <h3 class="feature-title">Test Analizi Dashboard</h3>
            <p class="feature-description">
              Real vaxtda test nÉ™ticÉ™lÉ™rinin tÉ™hlili, qrafik vizuallaÅŸdÄ±rma vÉ™
              hesabat yaradÄ±lmasÄ±
            </p>
            <button
              class="action-button"
              style="margin-top: 20px"
              onclick="launchApp('dashboard')"
            >
              TÉ™tbiqi AÃ§
            </button>
          </div>

          <div class="feature-card">
            <span class="feature-icon">ğŸ“ˆ</span>
            <h3 class="feature-title">TÉ™lÉ™bÉ™ Performans Monitoru</h3>
            <p class="feature-description">
              FÉ™rdi vÉ™ qrup performansÄ±nÄ±n dinamik izlÉ™nmÉ™si, trend analizi
            </p>
            <button
              class="action-button"
              style="margin-top: 20px"
              onclick="launchApp('performance')"
            >
              TÉ™tbiqi AÃ§
            </button>
          </div>

          <div class="feature-card">
            <span class="feature-icon">ğŸ¯</span>
            <h3 class="feature-title">Sual BankÄ± Ä°darÉ™etmÉ™si</h3>
            <p class="feature-description">
              Test suallarÄ±nÄ±n kateqoriyalaÅŸdÄ±rÄ±lmasÄ±, Ã§É™tinlik dÉ™rÉ™cÉ™si analizi
            </p>
            <button
              class="action-button"
              style="margin-top: 20px"
              onclick="launchApp('questionbank')"
            >
              TÉ™tbiqi AÃ§
            </button>
          </div>

          <div class="feature-card">
            <span class="feature-icon">ğŸ“‹</span>
            <h3 class="feature-title">Avtomatik Hesabat Sistemi</h3>
            <p class="feature-description">
              R Markdown ilÉ™ detallÄ± akademik hesabatlarÄ±n avtomatik yaradÄ±lmasÄ±
            </p>
            <button
              class="action-button"
              style="margin-top: 20px"
              onclick="launchApp('reports')"
            >
              TÉ™tbiqi AÃ§
            </button>
          </div>

          <div class="feature-card">
            <span class="feature-icon">ğŸ”</span>
            <h3 class="feature-title">Psixometrik Analiz</h3>
            <p class="feature-description">
              IRT, CTT vÉ™ digÉ™r psixometrik modellÉ™r Ã¼Ã§Ã¼n hÉ™rtÉ™rÉ™fli analiz
              vasitÉ™si
            </p>
            <button
              class="action-button"
              style="margin-top: 20px"
              onclick="launchApp('psychometric')"
            >
              TÉ™tbiqi AÃ§
            </button>
          </div>

          <div class="feature-card">
            <span class="feature-icon">ğŸŒ</span>
            <h3 class="feature-title">Ä°nteraktiv Ã–yrÉ™dici ModullÉ™r</h3>
            <p class="feature-description">
              Riyaziyyat mÃ¶vzularÄ± Ã¼zrÉ™ interaktiv tÉ™hsil materiallarÄ±
            </p>
            <button
              class="action-button"
              style="margin-top: 20px"
              onclick="launchApp('interactive')"
            >
              TÉ™tbiqi AÃ§
            </button>
          </div>
        </div>
      </section>

      <!-- NEW: External Links Section - CSP Safe Implementation -->
      <section id="external-links" class="content-panel">
        <h2 class="section-title">ğŸŒ Xarici LinklÉ™r vÉ™ Resurslar</h2>

        <!-- CSP Info Box -->
        <div class="csp-info">
          <h4>ğŸ›¡ï¸ TÉ™hlÃ¼kÉ™sizlik MÉ™lumatÄ±</h4>
          <p>
            GitHub Pages tÉ™hlÃ¼kÉ™sizlik siyasÉ™tinÉ™ gÃ¶rÉ™, external mÉ™zmun (RPubs,
            Shinyapps vÉ™ s.) birbaÅŸa daxil edilÉ™ bilmÉ™z. Lakin bÃ¼tÃ¼n linklÉ™r
            yeni sÉ™hifÉ™dÉ™ aÃ§Ä±lacaq vÉ™ mÃ¼kÉ™mmÉ™l iÅŸlÉ™yÉ™cÉ™k. Bu hÉ™m tÉ™hlÃ¼kÉ™sizdir,
            hÉ™m dÉ™ sÃ¼rÉ™tlidir!
          </p>
        </div>

        <!-- Enhanced Link Management -->
        <div class="link-showcase">
          <h3>ğŸš€ Aktiv Xarici LinklÉ™r</h3>
          <p style="text-align: center; color: #6c757d; margin-bottom: 25px">
            AÅŸaÄŸÄ±dakÄ± linklÉ™r yeni browser tab-Ä±nda aÃ§Ä±lacaq. Popup blocker
            aktivdirsÉ™, onu deaktiv edin.
          </p>

          <div class="link-grid">
            <!-- RPubs Section -->
            <div class="link-card rpubs">
              <h4>ğŸ“Š RPubs PublikasiyalarÄ±</h4>
              <p>R Markdown É™sÉ™rlÉ™rim vÉ™ analitik hesabatlarÄ±m</p>
              <a
                href="https://rpubs.com/talibov_tariyel"
                target="_blank"
                rel="noopener noreferrer"
                class="rpubs-link"
                onclick="trackExternalClick('rpubs', 'main_profile')"
              >
                ğŸŒ RPubs Profilim
              </a>
              <br /><br />
              <a
                href="https://rpubs.com/talibov_tariyel/testologiya-analiz"
                target="_blank"
                rel="noopener noreferrer"
                class="rpubs-link"
                onclick="trackExternalClick('rpubs', 'testology_analysis')"
              >
                ğŸ“ˆ Testologiya Analizi
              </a>
              <br /><br />
              <a
                href="https://rpubs.com/talibov_tariyel/r-education-statistics"
                target="_blank"
                rel="noopener noreferrer"
                class="rpubs-link"
                onclick="trackExternalClick('rpubs', 'education_stats')"
              >
                ğŸ“š TÉ™hsil StatistikalarÄ±
              </a>
            </div>

            <!-- Shiny Apps Section -->
            <div class="link-card shiny">
              <h4>âš¡ Shiny TÉ™tbiqlÉ™rim</h4>
              <p>Ä°nteraktiv analiz vÉ™ dashboard tÉ™tbiqlÉ™ri</p>
              <a
                href="https://talibov-tariyel.shinyapps.io/test-dashboard/"
                target="_blank"
                rel="noopener noreferrer"
                class="shiny-link"
                onclick="trackExternalClick('shiny', 'test_dashboard')"
              >
                ğŸ“Š Test Analizi Dashboard
              </a>
              <br /><br />
              <a
                href="https://talibov-tariyel.shinyapps.io/psychometric-analysis/"
                target="_blank"
                rel="noopener noreferrer"
                class="shiny-link"
                onclick="trackExternalClick('shiny', 'psychometric')"
              >
                ğŸ”¬ Psixometrik Analiz
              </a>
              <br /><br />
              <a
                href="https://talibov-tariyel.shinyapps.io/education-statistics/"
                target="_blank"
                rel="noopener noreferrer"
                class="shiny-link"
                onclick="trackExternalClick('shiny', 'education_stats')"
              >
                ğŸ“ˆ TÉ™hsil Ä°statistika AlÉ™ti
              </a>
            </div>

            <!-- GitHub Section -->
            <div class="link-card github">
              <h4>ğŸ’» GitHub RepositorylÉ™rim</h4>
              <p>AÃ§Ä±q qaynaq kodu vÉ™ layihÉ™lÉ™r</p>
              <a
                href="https://github.com/Ttariyel-1954"
                target="_blank"
                rel="noopener noreferrer"
                class="github-link"
                onclick="trackExternalClick('github', 'main_profile')"
              >
                ğŸ  GitHub Profilim
              </a>
              <br /><br />
              <a
                href="https://github.com/Ttariyel-1954/Yeni-sayt"
                target="_blank"
                rel="noopener noreferrer"
                class="github-link"
                onclick="trackExternalClick('github', 'website_source')"
              >
                ğŸŒ Bu SaytÄ±n KodlarÄ±
              </a>
              <br /><br />
              <a
                href="https://github.com/Ttariyel-1954/R-Testology"
                target="_blank"
                rel="noopener noreferrer"
                class="github-link"
                onclick="trackExternalClick('github', 'r_testology')"
              >
                ğŸ“Š R Testologiya PaketlÉ™ri
              </a>
            </div>
          </div>

          <!-- Link Management Tools -->
          <div
            style="
              text-align: center;
              margin-top: 30px;
              padding: 20px;
              background: rgba(255, 255, 255, 0.8);
              border-radius: 15px;
            "
          >
            <h4 style="color: #1e3c72; margin-bottom: 15px">
              ğŸ”— Link Ä°darÉ™etmÉ™si
            </h4>
            <div
              style="
                display: flex;
                gap: 10px;
                justify-content: center;
                flex-wrap: wrap;
              "
            >
              <button class="action-button" onclick="addExternalLink()">
                â• Yeni Link ÆlavÉ™ Et
              </button>
              <button
                class="action-button secondary"
                onclick="importFromBookmarks()"
              >
                ğŸ“ Bookmark-lardan Ä°mport
              </button>
              <button class="action-button success" onclick="exportLinks()">
                ğŸ“¤ LinklÉ™ri Ä°xrac Et
              </button>
              <button class="action-button github" onclick="validateAllLinks()">
                âœ… LinklÉ™ri Yoxla
              </button>
            </div>
          </div>
        </div>

        <!-- Dynamic External Links Container -->
        <div id="dynamicExternalLinks" style="margin-top: 30px"></div>

        <!-- Preview Info for External Services -->
        <div class="cards-grid" style="margin-top: 40px">
          <div class="info-card rpubs-file">
            <h3 class="card-title">ğŸŒ RPubs MÉ™xsusi XidmÉ™ti</h3>
            <p class="card-period">RStudio tÉ™rÉ™findÉ™n tÉ™qdim edilir</p>
            <p class="card-description">
              R Markdown sÉ™nÉ™dlÉ™rini asanlÄ±qla paylaÅŸmaq Ã¼Ã§Ã¼n pulsuz xidmÉ™t.
              Kodunuz, nÉ™ticÉ™lÉ™riniz vÉ™ vizuallaÅŸdÄ±rmalarÄ±nÄ±z birlikdÉ™
              paylaÅŸÄ±lÄ±r.
            </p>
            <div class="card-actions">
              <a
                href="https://rpubs.com"
                target="_blank"
                rel="noopener noreferrer"
                class="action-button"
              >
                ğŸŒ RPubs SaytÄ±na Get
              </a>
            </div>
          </div>

          <div class="info-card shinyapps-app">
            <h3 class="card-title">âš¡ Shinyapps.io PlatformasÄ±</h3>
            <p class="card-period">RStudio Connect xidmÉ™ti</p>
            <p class="card-description">
              R Shiny tÉ™tbiqlÉ™rini internetdÉ™ paylaÅŸmaq Ã¼Ã§Ã¼n É™n populyar
              platform. Ä°nteraktiv dashboard vÉ™ analiz vasitÉ™lÉ™ri yaradÄ±n.
            </p>
            <div class="card-actions">
              <a
                href="https://www.shinyapps.io"
                target="_blank"
                rel="noopener noreferrer"
                class="action-button"
              >
                ğŸš€ Shinyapps.io-ya Get
              </a>
            </div>
          </div>

          <div class="info-card github-file">
            <h3 class="card-title">ğŸ’» GitHub Kodu PaylaÅŸÄ±m</h3>
            <p class="card-period">Microsoft GitHub xidmÉ™ti</p>
            <p class="card-description">
              DÃ¼nyada É™n Ã§ox istifadÉ™ olunan kod paylaÅŸÄ±m platformasÄ±. AÃ§Ä±q
              qaynaq layihÉ™lÉ™r vÉ™ É™mÉ™kdaÅŸlÄ±q Ã¼Ã§Ã¼n ideal.
            </p>
            <div class="card-actions">
              <a
                href="https://github.com"
                target="_blank"
                rel="noopener noreferrer"
                class="action-button"
              >
                ğŸ’» GitHub SaytÄ±na Get
              </a>
            </div>
          </div>
        </div>
      </section>

      <!-- Contact Section -->
      <section id="contact" class="content-panel">
        <h2 class="section-title">ğŸ“ ÆlaqÉ™ vÉ™ ÆmÉ™kdaÅŸlÄ±q</h2>

        <div class="contact-grid">
          <div class="contact-card">
            <span class="contact-icon">âœ‰ï¸</span>
            <h3 class="contact-title">Elektron PoÃ§t</h3>
            <div class="contact-info">
              <p>talibov.tariyel@edu.az</p>
              <p>Elmi É™mÉ™kdaÅŸlÄ±q vÉ™ layihÉ™ tÉ™kliflÉ™ri Ã¼Ã§Ã¼n</p>
            </div>
          </div>

          <div class="contact-card">
            <span class="contact-icon">ğŸ¢</span>
            <h3 class="contact-title">Ä°ÅŸ Yeri</h3>
            <div class="contact-info">
              <p>AzÉ™rbaycan TÉ™hsil Ä°nstitutu</p>
              <p>Direktor MÃ¼avini</p>
              <p>BakÄ±, AzÉ™rbaycan</p>
            </div>
          </div>

          <div class="contact-card">
            <span class="contact-icon">ğŸ”¬</span>
            <h3 class="contact-title">TÉ™dqiqat SahÉ™lÉ™ri</h3>
            <div class="contact-info">
              <p>Testologiya vÉ™ Psixometriya</p>
              <p>R ProqramlaÅŸdÄ±rma</p>
              <p>Riyaziyyat TÉ™hsili</p>
              <p>Kurrikulum Ä°nkiÅŸafÄ±</p>
            </div>
          </div>

          <div class="contact-card">
            <span class="contact-icon">ğŸ¤</span>
            <h3 class="contact-title">ÆmÉ™kdaÅŸlÄ±q Ä°mkanlarÄ±</h3>
            <div class="contact-info">
              <p>Elmi layihÉ™lÉ™r</p>
              <p>TÉ™hsil mÉ™slÉ™hÉ™tlÉ™ri</p>
              <p>Seminar vÉ™ tÉ™limlÉ™r</p>
              <p>BeynÉ™lxalq tÉ™dqiqatlar</p>
            </div>
          </div>
        </div>

        <div
          style="
            margin-top: 40px;
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #f8f9ff, #e8f4ff);
            border-radius: 20px;
          "
        >
          <h3 style="color: #1e3c72; margin-bottom: 15px; font-size: 1.5em">
            BirgÉ™ LayihÉ™lÉ™r DÉ™vÉ™ti
          </h3>
          <p style="color: #5a6c7d; font-size: 1.1em; line-height: 1.7">
            Testologiya, riyaziyyat tÉ™hsili vÉ™ R proqramlaÅŸdÄ±rma sahÉ™lÉ™rindÉ™
            birgÉ™ tÉ™dqiqat vÉ™ layihÉ™lÉ™r Ã¼Ã§Ã¼n hÉ™miÅŸÉ™ aÃ§Ä±ÄŸam. BirlikdÉ™ AzÉ™rbaycan
            tÉ™hsilinin keyfiyyÉ™tini artÄ±rmaÄŸa tÃ¶hfÉ™ verÉ™k.
          </p>
        </div>
      </section>

      <!-- Footer -->
      <footer class="footer">
        <p class="footer-text">
          &copy; 2025 | TalÄ±bov Tariyel Ä°smayÄ±l oÄŸlu - Riyaziyyat Ã¼zrÉ™ fÉ™lsÉ™fÉ™
          doktoru
        </p>
        <p class="footer-text">
          AzÉ™rbaycan RespublikasÄ±nÄ±n É™mÉ™kdar mÃ¼É™llimi | AzÉ™rbaycan TÉ™hsil
          Ä°nstitutunun direktor mÃ¼avini
        </p>
      </footer>
    </div>

    <script>
      // Global variables
      // Initialize with sample data
      let uploadedFiles = [
        {
          id: 1,
          title: "Testologiya Elmi: MÃ¼asir PerspektivlÉ™r",
          name: "testologiya_2024.pdf",
          type: "pdf",
          description:
            "15 illik tÉ™dqiqat tÉ™crÃ¼bÉ™si É™sasÄ±nda testologiya elminin mÃ¼asir vÉ™ziyyÉ™ti",
          addedDate: "2024-01-15",
          status: "completed",
          url: "https://rpubs.com/talibov_tariyel/testologiya-analiz",
        },
        {
          id: 2,
          title: "R Dili ilÉ™ TÉ™hsil AnalitikasÄ±",
          name: "r_education_analytics.rmd",
          type: "rmd",
          description:
            "Shiny vÉ™ digÉ™r R paketlÉ™rinin tÉ™hsil sektorunda tÉ™tbiqi",
          addedDate: "2024-02-10",
          status: "completed",
          url: "https://rpubs.com/talibov_tariyel/r-education-statistics",
        },
      ];
      let uploadedApps = [];
      let externalLinks = [];
      let currentFilter = "all";
      let currentAppFilter = "all";
      let currentUploadTab = "files";
      let currentAppTab = "github";

      // System constants
      const STORAGE_KEY_FILES = "talibov_elmi_files";
      const STORAGE_KEY_APPS = "talibov_elmi_apps";
      const STORAGE_KEY_LINKS = "talibov_external_links";
      const AUTO_SAVE_INTERVAL = 30000; // 30 seconds
      const URL_STORAGE_KEY = "talibov_url_data";
      const MAX_URL_LENGTH = 8000; // Safe limit for URL length

      // Enhanced GitHub/URL Backup System
      function createGitHubBackup() {
        try {
          const data = {
            files: uploadedFiles.map((file) => ({
              id: file.id,
              title: file.title,
              name: file.name,
              type: file.type,
              description: file.description,
              url: file.url,
              authors: file.authors,
              year: file.year,
              platform: file.platform,
              materialType: file.materialType,
              addedDate: file.addedDate,
              status: file.status,
            })),
            apps: uploadedApps.map((app) => ({
              id: app.id,
              title: app.title,
              url: app.url,
              platform: app.platform,
              type: app.type,
              appType: app.appType,
              description: app.description,
              addedDate: app.addedDate,
              status: app.status,
            })),
            externalLinks: externalLinks.map((link) => ({
              id: link.id,
              title: link.title,
              url: link.url,
              category: link.category,
              description: link.description,
              addedDate: link.addedDate,
            })),
            timestamp: new Date().toISOString(),
            version: "3.1",
          };

          const compressedData = compressForURL(JSON.stringify(data));
          const currentUrl = window.location.href.split("?")[0];
          const backupUrl = `${currentUrl}?data=${encodeURIComponent(
            compressedData
          )}`;

          if (backupUrl.length > MAX_URL_LENGTH) {
            // If URL too long, create downloadable file instead
            createDownloadableBackup(
              data,
              "URL Ã§ox uzundur, fayl backup yaradÄ±lÄ±r"
            );
          } else {
            // Copy URL to clipboard
            if (navigator.clipboard) {
              navigator.clipboard.writeText(backupUrl).then(() => {
                showNotification(
                  "GitHub Backup HazÄ±r!",
                  `âœ… Portal URL-i GitHub-da istifadÉ™ Ã¼Ã§Ã¼n kopyalandÄ±!\nğŸ“Š ${data.files.length} fayl, ${data.apps.length} tÉ™tbiq vÉ™ ${data.externalLinks.length} link\nğŸ”— Bu URL-i GitHub Pages repository-nizÉ™ É™lavÉ™ edin`,
                  "success"
                );
                updateBackupIndicator("success", "GitHub URL HazÄ±r");
                updateLastBackupTime();
              });
            } else {
              // Fallback for older browsers
              const textArea = document.createElement("textarea");
              textArea.value = backupUrl;
              document.body.appendChild(textArea);
              textArea.select();
              document.execCommand("copy");
              document.body.removeChild(textArea);
              showNotification(
                "GitHub Backup HazÄ±r!",
                "Portal URL-i kopyalandÄ±!",
                "success"
              );
              updateBackupIndicator("success", "GitHub URL HazÄ±r");
              updateLastBackupTime();
            }
          }
        } catch (error) {
          console.error("GitHub backup error:", error);
          showNotification(
            "Backup XÉ™tasÄ±",
            "GitHub backup yaradÄ±larkÉ™n xÉ™ta baÅŸ verdi. JSON backup istifadÉ™ edin.",
            "error"
          );
          updateBackupIndicator("error", "Backup XÉ™tasÄ±");
        }
      }

      function compressForURL(jsonString) {
        // Simple compression for URL - remove unnecessary spaces and optimize
        return jsonString
          .replace(/\s+/g, " ")
          .replace(/": "/g, '":"')
          .replace(/", "/g, '","')
          .replace(/\[ \{/g, "[{")
          .replace(/\} \]/g, "}]")
          .trim();
      }

      function createDownloadableBackup(data, reason) {
        const jsonString = JSON.stringify(data, null, 2);
        const blob = new Blob([jsonString], { type: "application/json" });
        const url = URL.createObjectURL(blob);

        const a = document.createElement("a");
        a.href = url;
        a.download = `talibov_github_backup_${new Date()
          .toISOString()
          .slice(0, 10)}.json`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);

        showNotification(
          "Backup Fayl YaradÄ±ldÄ±",
          `${reason}\nğŸ“ JSON fayl yÃ¼klÉ™ndi - bu faylÄ± GitHub repository-nizdÉ™ saxlayÄ±n`,
          "success"
        );
      }

      function loadDataFromURL() {
        try {
          const urlParams = new URLSearchParams(window.location.search);
          const urlData = urlParams.get("data");

          if (urlData) {
            const decompressedData = decodeURIComponent(urlData);
            const data = JSON.parse(decompressedData);

            if (data.files && Array.isArray(data.files)) {
              // Merge URL data with localStorage, prioritizing URL data
              const existingFiles = uploadedFiles.length;
              const existingApps = uploadedApps.length;
              const existingLinks = externalLinks.length;

              uploadedFiles = [...uploadedFiles, ...data.files];
              uploadedApps = [...uploadedApps, ...(data.apps || [])];
              externalLinks = [...externalLinks, ...(data.externalLinks || [])];

              // Remove duplicates based on ID
              uploadedFiles = removeDuplicatesById(uploadedFiles);
              uploadedApps = removeDuplicatesById(uploadedApps);
              externalLinks = removeDuplicatesById(externalLinks);

              const newFiles = uploadedFiles.length - existingFiles;
              const newApps = uploadedApps.length - existingApps;
              const newLinks = externalLinks.length - existingLinks;

              if (newFiles > 0 || newApps > 0 || newLinks > 0) {
                showNotification(
                  "URL-dÉ™n MÉ™lumat YÃ¼klÉ™ndi",
                  `ğŸ”— GitHub URL-dÉ™n ${newFiles} fayl, ${newApps} tÉ™tbiq vÉ™ ${newLinks} link É™lavÉ™ edildi!\nğŸ’¾ Avtomatik yadda saxlama aktiv`,
                  "success"
                );
                updateBackupIndicator("success", "URL-dÉ™n YÃ¼klÉ™ndi");
                saveToLocalStorage(); // Save merged data
              }

              return true;
            }
          }
          return false;
        } catch (error) {
          console.error("URL data load error:", error);
          showNotification(
            "URL XÉ™tasÄ±",
            "URL-dÉ™n mÉ™lumat yÃ¼klÉ™mÉ™kdÉ™ xÉ™ta baÅŸ verdi",
            "error"
          );
          return false;
        }
      }

      function removeDuplicatesById(array) {
        const seen = new Set();
        return array.filter((item) => {
          if (seen.has(item.id)) {
            return false;
          }
          seen.add(item.id);
          return true;
        });
      }

      function updateBackupIndicator(status, message) {
        const indicator = document.getElementById("backupIndicator");
        indicator.className = `backup-indicator show ${status}`;
        indicator.textContent = message;

        setTimeout(() => {
          indicator.classList.remove("show");
        }, 5000);
      }

      function updateLastBackupTime() {
        const now = new Date();
        const timeString = now.toLocaleString("az-AZ");
        document.getElementById("lastBackupTime").textContent = timeString;
        localStorage.setItem("talibov_last_backup", now.toISOString());
      }

      function showBackupInfo() {
        const lastBackup = localStorage.getItem("talibov_last_backup");
        const lastBackupText = lastBackup
          ? new Date(lastBackup).toLocaleString("az-AZ")
          : "HeÃ§ vaxt";
        const currentUrl = window.location.href;
        const hasUrlData = currentUrl.includes("?data=");

        showNotification(
          "GitHub Backup Sistemi",
          `ğŸ“Š CÉ™mi: ${uploadedFiles.length} fayl, ${
            uploadedApps.length
          } tÉ™tbiq, ${
            externalLinks.length
          } link\nğŸ’¾ Son backup: ${lastBackupText}\nğŸ”— URL backup: ${
            hasUrlData ? "Aktiv" : "Yoxdur"
          }\nğŸ’¡ "GitHub Backup" dÃ¼ymÉ™si ilÉ™ paylaÅŸÄ±la bilÉ™n URL yaradÄ±n`,
          "info"
        );
      }

      // System status management
      function updateSystemStatus(status, message) {
        const statusElement = document.getElementById("systemStatus");
        statusElement.className = `system-status ${status}`;
        statusElement.textContent = message;

        if (status === "saving") {
          setTimeout(() => {
            updateSystemStatus("ready", "âœ… Sistem HazÄ±r");
          }, 2000);
        }
      }

      function showSystemInfo() {
        const filesCount = uploadedFiles.length;
        const appsCount = uploadedApps.length;
        const linksCount = externalLinks.length;
        const totalSize = calculateTotalDataSize();
        const hasUrlBackup = window.location.href.includes("?data=");

        showNotification(
          "Sistem MÉ™lumatlarÄ±",
          `ğŸ“ Fayllar: ${filesCount}\nğŸ’» TÉ™tbiqlÉ™r: ${appsCount}\nğŸ”— Xarici linklÉ™r: ${linksCount}\nğŸ’¾ YaddaÅŸ: ${totalSize}\nğŸ”„ localStorage: Aktiv\nğŸ”— URL Backup: ${
            hasUrlBackup ? "MÃ¶vcud" : "Yoxdur"
          }\nâš¡ Avtomatik yadda saxlama: Aktiv`,
          "info"
        );
      }

      function calculateTotalDataSize() {
        const data = JSON.stringify({
          files: uploadedFiles,
          apps: uploadedApps,
          links: externalLinks,
        });
        const sizeInBytes = new Blob([data]).size;
        return formatFileSize(sizeInBytes);
      }

      // Enhanced data persistence with multiple backup layers
      function saveToLocalStorage() {
        try {
          updateSystemStatus("saving", "ğŸ’¾ Yadda SaxlanÄ±r...");

          const filesData = uploadedFiles.map((file) => ({
            ...file,
            file: null, // Don't store actual file objects
            content: file.content ? file.content.substring(0, 50000) : null, // Limit content size
          }));

          const appsData = uploadedApps.map((app) => ({
            ...app,
            file: null, // Don't store actual file objects
          }));

          localStorage.setItem(STORAGE_KEY_FILES, JSON.stringify(filesData));
          localStorage.setItem(STORAGE_KEY_APPS, JSON.stringify(appsData));
          localStorage.setItem(
            STORAGE_KEY_LINKS,
            JSON.stringify(externalLinks)
          );
          localStorage.setItem("talibov_last_save", new Date().toISOString());

          updateSystemStatus("ready", "âœ… Yadda SaxlanÄ±ldÄ±");

          // Auto-create URL backup if data is reasonable size
          if (filesData.length + appsData.length + externalLinks.length <= 25) {
            try {
              const testData = {
                files: filesData.slice(0, 8),
                apps: appsData.slice(0, 8),
                externalLinks: externalLinks.slice(0, 8),
              };
              const testUrl = compressForURL(JSON.stringify(testData));
              if (testUrl.length < 2000) {
                // Safe test
                updateBackupIndicator("github", "URL Backup HazÄ±r");
              }
            } catch (e) {
              console.log("URL backup test failed:", e);
            }
          }
        } catch (error) {
          console.error("LocalStorage save error:", error);
          updateSystemStatus("error", "âŒ Yadda Saxlama XÉ™tasÄ±");

          // If localStorage is full, try to save without content
          try {
            const minimalFiles = uploadedFiles.map((file) => ({
              id: file.id,
              title: file.title || file.name,
              name: file.name,
              type: file.type,
              url: file.url,
              description: file.description
                ? file.description.substring(0, 200)
                : "",
              addedDate: file.addedDate,
              authors: file.authors,
              year: file.year,
              platform: file.platform,
            }));

            localStorage.setItem(
              STORAGE_KEY_FILES,
              JSON.stringify(minimalFiles)
            );
            localStorage.setItem(
              STORAGE_KEY_APPS,
              JSON.stringify(uploadedApps)
            );
            localStorage.setItem(
              STORAGE_KEY_LINKS,
              JSON.stringify(externalLinks)
            );
            updateSystemStatus("ready", "âš ï¸ Minimal Yadda Saxlama");
          } catch (secondError) {
            console.error("Minimal save also failed:", secondError);
            updateSystemStatus("error", "âŒ Yadda Saxlama MÃ¼mkÃ¼n Deyil");
          }
        }
      }

      function loadFromLocalStorage() {
        try {
          const savedFiles = localStorage.getItem(STORAGE_KEY_FILES);
          const savedApps = localStorage.getItem(STORAGE_KEY_APPS);
          const savedLinks = localStorage.getItem(STORAGE_KEY_LINKS);

          if (savedFiles) {
            uploadedFiles = JSON.parse(savedFiles);
            console.log(
              `${uploadedFiles.length} fayl localStorage-dan yÃ¼klÉ™ndi`
            );
          }

          if (savedApps) {
            uploadedApps = JSON.parse(savedApps);
            console.log(
              `${uploadedApps.length} tÉ™tbiq localStorage-dan yÃ¼klÉ™ndi`
            );
          }

          if (savedLinks) {
            externalLinks = JSON.parse(savedLinks);
            console.log(
              `${externalLinks.length} xarici link localStorage-dan yÃ¼klÉ™ndi`
            );
          }

          // Load last backup time
          const lastBackup = localStorage.getItem("talibov_last_backup");
          if (lastBackup) {
            const backupDate = new Date(lastBackup);
            document.getElementById("lastBackupTime").textContent =
              backupDate.toLocaleString("az-AZ");
          }

          updateDynamicStats();
          renderExternalLinks();

          const lastSave = localStorage.getItem("talibov_last_save");
          if (lastSave) {
            const saveDate = new Date(lastSave);
            console.log("Son yadda saxlama:", saveDate.toLocaleString("az-AZ"));
          }

          return true;
        } catch (error) {
          console.error("LocalStorage load error:", error);
          return false;
        }
      }

      function updateDynamicStats() {
        document.getElementById("dynamicFilesCount").textContent =
          uploadedFiles.length;
        document.getElementById("dynamicAppsCount").textContent =
          uploadedApps.length;
      }

      function saveDataToFile() {
        const data = {
          files: uploadedFiles.map((file) => ({
            id: file.id,
            title: file.title,
            name: file.name,
            size: file.size,
            type: file.type,
            lastModified: file.lastModified,
            status: file.status,
            addedDate: file.addedDate,
            description: file.description,
            url: file.url,
            authors: file.authors,
            year: file.year,
            platform: file.platform,
            materialType: file.materialType,
            content: file.content,
          })),
          apps: uploadedApps.map((app) => ({
            id: app.id,
            title: app.title,
            url: app.url,
            platform: app.platform,
            type: app.type,
            appType: app.appType,
            description: app.description,
            addedDate: app.addedDate,
            status: app.status,
            fileName: app.fileName,
            fileSize: app.fileSize,
          })),
          externalLinks: externalLinks,
          exportDate: new Date().toLocaleDateString("az-AZ"),
          exportTime: new Date().toLocaleTimeString("az-AZ"),
          version: "3.1",
          totalFiles: uploadedFiles.length,
          totalApps: uploadedApps.length,
          totalLinks: externalLinks.length,
          backupType: "JSON Export",
        };

        const jsonString = JSON.stringify(data, null, 2);
        const blob = new Blob([jsonString], { type: "application/json" });
        const url = URL.createObjectURL(blob);

        const a = document.createElement("a");
        a.href = url;
        a.download = `talibov_tariyel_backup_${new Date()
          .toISOString()
          .slice(0, 10)}.json`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);

        showNotification(
          "JSON Backup YaradÄ±ldÄ±",
          `${data.totalFiles} fayl, ${data.totalApps} tÉ™tbiq vÉ™ ${data.totalLinks} link JSON faylÄ± kimi ixrac edildi!\nğŸ’¡ Bu faylÄ± GitHub repository-nizdÉ™ saxlayÄ±n`,
          "success"
        );
      }

      function loadDataFromFile(event) {
        const file = event.target.files[0];
        if (!file) return;

        if (!file.name.endsWith(".json")) {
          showNotification("XÉ™ta", "ZÉ™hmÉ™t olmasa JSON fayl seÃ§in!", "error");
          return;
        }

        const reader = new FileReader();
        reader.onload = function (e) {
          try {
            const data = JSON.parse(e.target.result);

            let loadedFiles = 0;
            let loadedApps = 0;
            let loadedLinks = 0;

            if (data.files && Array.isArray(data.files)) {
              // Merge with existing data
              const existingFileIds = new Set(uploadedFiles.map((f) => f.id));
              const newFiles = data.files.filter(
                (f) => !existingFileIds.has(f.id)
              );

              uploadedFiles = [...uploadedFiles, ...newFiles];
              loadedFiles = newFiles.length;
            }

            if (data.apps && Array.isArray(data.apps)) {
              // Merge with existing data
              const existingAppIds = new Set(uploadedApps.map((a) => a.id));
              const newApps = data.apps.filter(
                (a) => !existingAppIds.has(a.id)
              );

              uploadedApps = [...uploadedApps, ...newApps];
              loadedApps = newApps.length;
            }

            if (data.externalLinks && Array.isArray(data.externalLinks)) {
              // Merge with existing data
              const existingLinkIds = new Set(externalLinks.map((l) => l.id));
              const newLinks = data.externalLinks.filter(
                (l) => !existingLinkIds.has(l.id)
              );

              externalLinks = [...externalLinks, ...newLinks];
              loadedLinks = newLinks.length;
            }

            // Save to localStorage immediately
            saveToLocalStorage();

            // Refresh displays
            filterFiles(currentFilter);
            filterApps(currentAppFilter);
            renderExternalLinks();
            updateDynamicStats();

            showNotification(
              "Backup BÉ™rpa Edildi",
              `${loadedFiles} yeni fayl, ${loadedApps} yeni tÉ™tbiq vÉ™ ${loadedLinks} yeni link É™lavÉ™ edildi!${
                data.exportDate ? `\nOrijinal ixrac: ${data.exportDate}` : ""
              }`,
              "success"
            );
          } catch (error) {
            console.error("JSON parse error:", error);
            showNotification("XÉ™ta", "Fayl formatÄ± dÃ¼zgÃ¼n deyil!", "error");
          }
        };

        reader.readAsText(file);
        event.target.value = ""; // Reset input
      }

      function clearAllData() {
        if (
          confirm(
            "BÃ¼tÃ¼n yÃ¼klÉ™nmiÅŸ fayllarÄ±, tÉ™tbiqlÉ™ri vÉ™ linklÉ™ri silmÉ™k istÉ™diyinizdÉ™n É™minsiniz?\n\nBu É™mÉ™liyyatÄ± geri qaytarmaq olmayacaq!"
          )
        ) {
          uploadedFiles = [];
          uploadedApps = [];
          externalLinks = [];

          localStorage.removeItem(STORAGE_KEY_FILES);
          localStorage.removeItem(STORAGE_KEY_APPS);
          localStorage.removeItem(STORAGE_KEY_LINKS);
          localStorage.removeItem("talibov_last_save");
          localStorage.removeItem("talibov_last_backup");

          filterFiles("all");
          filterApps("all");
          renderExternalLinks();
          updateDynamicStats();
          document.getElementById("lastBackupTime").textContent = "HeÃ§ vaxt";

          showNotification(
            "MÉ™lumatlar TÉ™mizlÉ™ndi",
            "BÃ¼tÃ¼n fayllar, tÉ™tbiqlÉ™r vÉ™ linklÉ™r silindi",
            "success"
          );
        }
      }

      function shareViaURL() {
        const currentURL = window.location.href.split("?")[0];
        const message = `TalÄ±bov Tariyel Ä°smayÄ±l oÄŸlu - Elmi Portal\n${uploadedFiles.length} elmi material, ${uploadedApps.length} tÉ™tbiq vÉ™ ${externalLinks.length} xarici link\n\n${currentURL}`;

        if (navigator.share) {
          navigator.share({
            title: "TalÄ±bov Tariyel - Elmi Portal",
            text: message,
            url: currentURL,
          });
        } else if (navigator.clipboard) {
          navigator.clipboard.writeText(message).then(() => {
            showNotification(
              "Link KopyalandÄ±",
              'Portal linki paylaÅŸÄ±m Ã¼Ã§Ã¼n kopyalandÄ±!\nğŸ’¡ MÉ™lumatlarla birlikdÉ™ paylaÅŸmaq Ã¼Ã§Ã¼n "GitHub Backup" istifadÉ™ edin',
              "success"
            );
          });
        } else {
          // Fallback
          const textArea = document.createElement("textarea");
          textArea.value = message;
          document.body.appendChild(textArea);
          textArea.select();
          document.execCommand("copy");
          document.body.removeChild(textArea);
          showNotification(
            "Link KopyalandÄ±",
            "Portal linki paylaÅŸÄ±m Ã¼Ã§Ã¼n kopyalandÄ±!",
            "success"
          );
        }
      }

      function autoSaveData() {
        saveToLocalStorage();
        updateDynamicStats();

        const totalItems =
          uploadedFiles.length + uploadedApps.length + externalLinks.length;
        if (totalItems > 0 && totalItems % 20 === 0) {
          showNotification(
            "Backup XatÄ±rlatmasÄ±",
            `${totalItems} mÉ™lumat É™lavÉ™ etmisiniz. GitHub Backup yaradmaÄŸÄ± unutmayÄ±n!`,
            "info"
          );
        }
      }

      // External Links Management
      function trackExternalClick(platform, linkId) {
        console.log(`ğŸš€ External link clicked: ${platform} - ${linkId}`);

        // Show user feedback
        setTimeout(() => {
          showNotification(
            "Link AÃ§Ä±lÄ±r",
            `${platform.toUpperCase()} linki yeni sÉ™hifÉ™dÉ™ aÃ§Ä±lÄ±r...\nğŸ’¡ ÆgÉ™r aÃ§Ä±lmÄ±rsa popup blocker-i yoxlayÄ±n`,
            "info"
          );
        }, 500);

        // Analytics tracking (if available)
        if (typeof gtag !== "undefined") {
          gtag("event", "external_link_click", {
            platform: platform,
            link_id: linkId,
            event_category: "external_navigation",
          });
        }
      }

      function addExternalLink() {
        const modal = createModal();
        const content = modal.querySelector(".modal-content");

        content.innerHTML = `
                <div class="modal-header">
                    <h3>â• Yeni Xarici Link ÆlavÉ™ Et</h3>
                    <button onclick="closeModal()" class="close-btn">Ã—</button>
                </div>
                <div class="modal-body">
                    <div style="margin-bottom: 15px;">
                        <label>BaÅŸlÄ±q:</label>
                        <input type="text" id="newLinkTitle" placeholder="Link baÅŸlÄ±ÄŸÄ±" style="width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #ddd;">
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label>URL:</label>
                        <input type="url" id="newLinkUrl" placeholder="https://example.com" style="width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #ddd;">
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label>Kateqoriya:</label>
                        <select id="newLinkCategory" style="width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #ddd;">
                            <option value="rpubs">ğŸ“Š RPubs</option>
                            <option value="shiny">âš¡ Shiny App</option>
                            <option value="github">ğŸ’» GitHub</option>
                            <option value="research">ğŸ”¬ AraÅŸdÄ±rma</option>
                            <option value="education">ğŸ“š TÉ™hsil</option>
                            <option value="other">ğŸ”— DigÉ™r</option>
                        </select>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label>TÉ™svir:</label>
                        <textarea id="newLinkDescription" rows="3" placeholder="Link haqqÄ±nda qÄ±sa mÉ™lumat" style="width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #ddd; resize: vertical;"></textarea>
                    </div>
                    <div style="text-align: center;">
                        <button class="action-button success" onclick="saveNewExternalLink()">ğŸ’¾ Link ÆlavÉ™ Et</button>
                        <button class="action-button" onclick="closeModal()">âŒ LÉ™ÄŸv Et</button>
                    </div>
                </div>
            `;
      }

      function saveNewExternalLink() {
        const title = document.getElementById("newLinkTitle").value.trim();
        const url = document.getElementById("newLinkUrl").value.trim();
        const category = document.getElementById("newLinkCategory").value;
        const description = document
          .getElementById("newLinkDescription")
          .value.trim();

        if (!title || !url) {
          showNotification(
            "XÉ™ta",
            "BaÅŸlÄ±q vÉ™ URL mÃ¼tlÉ™q doldurulmalÄ±dÄ±r!",
            "error"
          );
          return;
        }

        if (!url.startsWith("http://") && !url.startsWith("https://")) {
          showNotification(
            "XÉ™ta",
            "URL http:// vÉ™ ya https:// ilÉ™ baÅŸlamalÄ±dÄ±r!",
            "error"
          );
          return;
        }

        const newLink = {
          id: Date.now(),
          title: title,
          url: url,
          category: category,
          description: description || "Xarici link",
          addedDate: new Date().toLocaleDateString("az-AZ"),
          isActive: true,
        };

        externalLinks.push(newLink);
        renderExternalLinks();
        autoSaveData();
        closeModal();

        showNotification(
          "Link ÆlavÉ™ Edildi",
          `"${title}" xarici linklÉ™r siyahÄ±sÄ±na É™lavÉ™ edildi`,
          "success"
        );
      }

      function renderExternalLinks() {
        const container = document.getElementById("dynamicExternalLinks");
        if (!container) return;

        if (externalLinks.length === 0) {
          container.innerHTML = "";
          return;
        }

        // Group links by category
        const groupedLinks = externalLinks.reduce((groups, link) => {
          const category = link.category || "other";
          if (!groups[category]) groups[category] = [];
          groups[category].push(link);
          return groups;
        }, {});

        const categoryNames = {
          rpubs: "ğŸ“Š RPubs LinklÉ™r",
          shiny: "âš¡ Shiny TÉ™tbiqlÉ™r",
          github: "ğŸ’» GitHub LayihÉ™lÉ™r",
          research: "ğŸ”¬ AraÅŸdÄ±rma MateriallarÄ±",
          education: "ğŸ“š TÉ™hsil ResurslarÄ±",
          other: "ğŸ”— DigÉ™r LinklÉ™r",
        };

        const categoryColors = {
          rpubs: "rpubs",
          shiny: "shiny",
          github: "github",
          research: "rpubs",
          education: "shiny",
          other: "github",
        };

        let html =
          '<div class="link-showcase"><h3>ğŸ“ ÆlavÉ™ EdilmiÅŸ Xarici LinklÉ™r</h3><div class="link-grid">';

        Object.keys(groupedLinks).forEach((category) => {
          const categoryName = categoryNames[category] || "ğŸ”— DigÉ™r";
          const colorClass = categoryColors[category] || "github";

          html += `<div class="link-card ${colorClass}">`;
          html += `<h4>${categoryName}</h4>`;

          groupedLinks[category].forEach((link) => {
            html += `<div style="margin-bottom: 15px; padding: 10px; background: rgba(255,255,255,0.1); border-radius: 8px;">`;
            html += `<h5 style="margin: 0 0 5px 0; color: inherit;">${link.title}</h5>`;
            if (link.description) {
              html += `<p style="margin: 0 0 8px 0; font-size: 0.9em; opacity: 0.8;">${link.description}</p>`;
            }
            html += `<div style="display: flex; gap: 8px; flex-wrap: wrap;">`;
            html += `<a href="${link.url}" target="_blank" rel="noopener noreferrer" class="action-button" 
                             style="font-size: 12px; padding: 6px 12px; background: rgba(255,255,255,0.2);" 
                             onclick="trackExternalClick('${category}', '${link.id}')">ğŸŒ AÃ§</a>`;
            html += `<button class="action-button danger" style="font-size: 12px; padding: 6px 12px;" 
                             onclick="removeExternalLink(${link.id})">ğŸ—‘ï¸ Sil</button>`;
            html += `</div></div>`;
          });

          html += "</div>";
        });

        html += "</div></div>";
        container.innerHTML = html;
      }

      function removeExternalLink(linkId) {
        const link = externalLinks.find((l) => l.id === linkId);
        if (!link) return;

        if (
          confirm(`"${link.title}" linkini silmÉ™k istÉ™diyinizdÉ™n É™minsiniz?`)
        ) {
          externalLinks = externalLinks.filter((l) => l.id !== linkId);
          renderExternalLinks();
          autoSaveData();
          showNotification(
            "Link Silindi",
            "Xarici link uÄŸurla silindi",
            "success"
          );
        }
      }

      function exportLinks() {
        if (externalLinks.length === 0) {
          showNotification(
            "MÉ™lumat",
            "Ä°xrac etmÉ™k Ã¼Ã§Ã¼n heÃ§ bir link yoxdur",
            "info"
          );
          return;
        }

        const exportData = {
          externalLinks: externalLinks,
          exportDate: new Date().toLocaleDateString("az-AZ"),
          exportTime: new Date().toLocaleTimeString("az-AZ"),
          totalLinks: externalLinks.length,
        };

        const jsonString = JSON.stringify(exportData, null, 2);
        const blob = new Blob([jsonString], { type: "application/json" });
        const url = URL.createObjectURL(blob);

        const a = document.createElement("a");
        a.href = url;
        a.download = `talibov_external_links_${new Date()
          .toISOString()
          .slice(0, 10)}.json`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);

        showNotification(
          "LinklÉ™r Ä°xrac Edildi",
          `${externalLinks.length} xarici link JSON formatÄ±nda ixrac edildi`,
          "success"
        );
      }

      function importFromBookmarks() {
        showNotification(
          "Bookmark Ä°mport",
          'Bu funksiya browser tÉ™hlÃ¼kÉ™sizlik mÉ™hdudiyyÉ™tlÉ™rinÉ™ gÃ¶rÉ™ birbaÅŸa dÉ™stÉ™klÉ™nmir.\nğŸ’¡ BookmarklarÄ± manual olaraq "Yeni Link ÆlavÉ™ Et" ilÉ™ É™lavÉ™ edin',
          "info"
        );
      }

      function validateAllLinks() {
        showNotification(
          "Link Yoxlama",
          "Link yoxlama funksiyasÄ± hazÄ±rlanÄ±r...\nğŸ’¡ Manual olaraq linklÉ™ri yoxlamaq tÃ¶vsiyÉ™ olunur",
          "info"
        );
      }

      // Content switching functionality
      function showContent(sectionId) {
        // Hide all content panels
        const panels = document.querySelectorAll(".content-panel");
        panels.forEach((panel) => panel.classList.remove("active"));

        // Remove active class from all nav buttons
        const buttons = document.querySelectorAll(".nav-button");
        buttons.forEach((button) => button.classList.remove("active"));

        // Show selected panel
        document.getElementById(sectionId).classList.add("active");

        // Add active class to clicked button
        event.target.closest(".nav-button").classList.add("active");

        // Smooth scroll to top
        window.scrollTo({ top: 0, behavior: "smooth" });
      }

      // Upload tab switching for Research section
      function switchUploadTab(tabName) {
        // Remove active class from all tabs
        document
          .querySelectorAll("#researchUploadZone .upload-tab")
          .forEach((tab) => tab.classList.remove("active"));
        document
          .querySelectorAll("#researchUploadZone .upload-content")
          .forEach((content) => content.classList.remove("active"));

        // Add active class to clicked tab
        event.target.classList.add("active");
        document.getElementById(tabName + "-upload").classList.add("active");

        currentUploadTab = tabName;
      }

      // App tab switching
      function switchAppTab(tabName) {
        // Remove active class from all tabs
        document
          .querySelectorAll("#appUploadZone .upload-tab")
          .forEach((tab) => tab.classList.remove("active"));
        document
          .querySelectorAll("#appUploadZone .upload-content")
          .forEach((content) => content.classList.remove("active"));

        // Add active class to clicked tab
        event.target.classList.add("active");
        document.getElementById(tabName + "-app").classList.add("active");

        currentAppTab = tabName;
      }

      // Enhanced drag and drop functionality
      function setupDragAndDrop() {
        const uploadZone = document.getElementById("researchUploadZone");
        if (!uploadZone) {
          console.error("Research upload zone not found");
          return;
        }

        ["dragenter", "dragover", "dragleave", "drop"].forEach((eventName) => {
          uploadZone.addEventListener(eventName, preventDefaults, false);
        });

        function preventDefaults(e) {
          e.preventDefault();
          e.stopPropagation();
        }

        ["dragenter", "dragover"].forEach((eventName) => {
          uploadZone.addEventListener(eventName, highlight, false);
        });

        ["dragleave", "drop"].forEach((eventName) => {
          uploadZone.addEventListener(eventName, unhighlight, false);
        });

        function highlight(e) {
          uploadZone.classList.add("drag-over");
        }

        function unhighlight(e) {
          uploadZone.classList.remove("drag-over");
        }

        uploadZone.addEventListener("drop", handleDrop, false);

        function handleDrop(e) {
          const dt = e.dataTransfer;
          const files = dt.files;

          if (files.length === 0) {
            showNotification("MÉ™lumat", "HeÃ§ bir fayl seÃ§ilmÉ™di", "info");
            return;
          }

          const mockEvent = {
            target: { files: files },
          };
          handleFileUpload(mockEvent);
        }

        console.log("Drag & Drop sistemi hazÄ±rdÄ±r");
      }

      // Enhanced file upload handler
      function handleFileUpload(event) {
        const files = Array.from(event.target.files);
        if (files.length === 0) return;

        showProgress();

        let processedCount = 0;
        const totalFiles = files.length;

        files.forEach((file, index) => {
          setTimeout(() => {
            processFile(file, index, () => {
              processedCount++;
              updateProgress(
                (processedCount / totalFiles) * 100,
                `${processedCount}/${totalFiles} fayl emal edildi`
              );

              if (processedCount === totalFiles) {
                hideProgress();
                autoSaveData();
                showNotification(
                  "YÃ¼klÉ™mÉ™ TamamlandÄ±",
                  `${totalFiles} fayl uÄŸurla É™lavÉ™ edildi!`,
                  "success"
                );
                filterFiles(currentFilter);
              }
            });
          }, index * 100);
        });

        if (event.target.value) {
          event.target.value = "";
        }
      }

      function processFile(file, index, callback) {
        const fileInfo = {
          id: Date.now() + index,
          name: file.name,
          size: file.size,
          type: getFileType(file.name),
          lastModified: new Date(file.lastModified).toLocaleDateString("az-AZ"),
          content: null,
          file: file,
          status: "processing",
          addedDate: new Date().toLocaleDateString("az-AZ"),
          title: file.name,
        };

        uploadedFiles.push(fileInfo);

        // Read file content if it's a text file
        const textFormats = [
          ".txt",
          ".md",
          ".rmd",
          ".r",
          ".html",
          ".css",
          ".js",
          ".csv",
        ];
        const isTextFile = textFormats.some((format) =>
          file.name.toLowerCase().endsWith(format)
        );

        if (isTextFile && file.size < 1024 * 1024) {
          // Only read files smaller than 1MB
          const reader = new FileReader();

          reader.onload = (e) => {
            fileInfo.content = e.target.result;
            fileInfo.status = "completed";
            callback();
          };

          reader.onerror = () => {
            fileInfo.status = "error";
            callback();
          };

          reader.readAsText(file, "UTF-8");
        } else {
          fileInfo.status = "ready";
          setTimeout(callback, 200);
        }
      }

      function getFileType(filename) {
        const extension = filename.split(".").pop().toLowerCase();
        const typeMap = {
          rmd: "rmd",
          r: "r-script",
          pdf: "pdf",
          doc: "word",
          docx: "word",
          html: "html",
          txt: "text",
          md: "markdown",
          zip: "archive",
          csv: "data",
          xlsx: "data",
        };
        return typeMap[extension] || "unknown";
      }

      // All other functions remain the same as in the original code...
      // (I'll continue with the key functions, but the comment indicates that all the original
      // functionality from the paste.txt file continues here)

      // RPubs link handler
      function addRPubsLink() {
        const url = document.getElementById("rpubsUrl").value.trim();
        const title = document.getElementById("rpubsTitle").value.trim();
        const description = document
          .getElementById("rpubsDescription")
          .value.trim();

        if (!url || !title) {
          showNotification(
            "XÉ™ta",
            "URL vÉ™ baÅŸlÄ±q mÃ¼tlÉ™q doldurulmalÄ±dÄ±r!",
            "error"
          );
          return;
        }

        if (!url.includes("rpubs.com")) {
          showNotification(
            "XÉ™ta",
            "ZÉ™hmÉ™t olmasa RPubs.com linkini daxil edin!",
            "error"
          );
          return;
        }

        const rpubsInfo = {
          id: Date.now(),
          title: title,
          url: url,
          description: description || "RPubs publikasiyasÄ±",
          type: "rpubs",
          addedDate: new Date().toLocaleDateString("az-AZ"),
          status: "completed",
        };

        uploadedFiles.push(rpubsInfo);

        // Clear form
        document.getElementById("rpubsUrl").value = "";
        document.getElementById("rpubsTitle").value = "";
        document.getElementById("rpubsDescription").value = "";

        filterFiles(currentFilter);
        autoSaveData();
        showNotification(
          "RPubs ÆlavÉ™ Edildi",
          `"${title}" kitabxanaya É™lavÉ™ edildi`,
          "success"
        );
      }

      // GitHub repository handler
      function addGitHubRepo() {
        const url = document.getElementById("githubUrl").value.trim();
        const title = document.getElementById("githubTitle").value.trim();
        const description = document
          .getElementById("githubDescription")
          .value.trim();

        if (!url || !title) {
          showNotification(
            "XÉ™ta",
            "URL vÉ™ baÅŸlÄ±q mÃ¼tlÉ™q doldurulmalÄ±dÄ±r!",
            "error"
          );
          return;
        }

        if (!url.includes("github.com")) {
          showNotification(
            "XÉ™ta",
            "ZÉ™hmÉ™t olmasa GitHub.com linkini daxil edin!",
            "error"
          );
          return;
        }

        const githubInfo = {
          id: Date.now(),
          title: title,
          url: url,
          description: description || "GitHub repository",
          type: "github",
          addedDate: new Date().toLocaleDateString("az-AZ"),
          status: "completed",
        };

        uploadedFiles.push(githubInfo);

        // Clear form
        document.getElementById("githubUrl").value = "";
        document.getElementById("githubTitle").value = "";
        document.getElementById("githubDescription").value = "";

        filterFiles(currentFilter);
        autoSaveData();
        showNotification(
          "GitHub Repo ÆlavÉ™ Edildi",
          `"${title}" kitabxanaya É™lavÉ™ edildi`,
          "success"
        );
      }

      // Research Repository Handler
      function addResearchRepositoryEntry() {
        const platform = document.getElementById("researchRepoPlatform").value;
        const url = document.getElementById("researchRepoUrl").value.trim();
        const title = document.getElementById("researchRepoTitle").value.trim();
        const type = document.getElementById("researchRepoType").value;
        const description = document
          .getElementById("researchRepoDescription")
          .value.trim();

        if (!url || !title) {
          showNotification(
            "XÉ™ta",
            "URL vÉ™ baÅŸlÄ±q mÃ¼tlÉ™q doldurulmalÄ±dÄ±r!",
            "error"
          );
          return;
        }

        const platformValidation = {
          gitlab: "gitlab.com",
          bitbucket: "bitbucket.org",
          codeberg: "codeberg.org",
          sourceforge: "sourceforge.net",
        };

        if (
          platformValidation[platform] &&
          !url.includes(platformValidation[platform])
        ) {
          showNotification(
            "XÉ™ta",
            `ZÉ™hmÉ™t olmasa ${platformValidation[platform]} linkini daxil edin!`,
            "error"
          );
          return;
        }

        const repoInfo = {
          id: Date.now(),
          title: title,
          url: url,
          platform: platform,
          type: "repos",
          materialType: type,
          description: description || `${platform} repository elmi materialÄ±`,
          addedDate: new Date().toLocaleDateString("az-AZ"),
          status: "completed",
        };

        uploadedFiles.push(repoInfo);

        // Clear form
        document.getElementById("researchRepoUrl").value = "";
        document.getElementById("researchRepoTitle").value = "";
        document.getElementById("researchRepoDescription").value = "";

        filterFiles(currentFilter);
        autoSaveData();
        showNotification(
          "Repository MaterialÄ± ÆlavÉ™ Edildi",
          `"${title}" elmi kitabxanaya É™lavÉ™ edildi`,
          "success"
        );
      }

      // Research Cloud Handler
      function addResearchCloudEntry() {
        const platform = document.getElementById("researchCloudPlatform").value;
        const url = document.getElementById("researchCloudUrl").value.trim();
        const title = document
          .getElementById("researchCloudTitle")
          .value.trim();
        const materialType = document.getElementById("researchCloudType").value;
        const description = document
          .getElementById("researchCloudDescription")
          .value.trim();

        if (!url || !title) {
          showNotification(
            "XÉ™ta",
            "URL vÉ™ baÅŸlÄ±q mÃ¼tlÉ™q doldurulmalÄ±dÄ±r!",
            "error"
          );
          return;
        }

        if (!url.startsWith("http://") && !url.startsWith("https://")) {
          showNotification(
            "XÉ™ta",
            "ZÉ™hmÉ™t olmasa tam URL daxil edin (http:// vÉ™ ya https:// ilÉ™)!",
            "error"
          );
          return;
        }

        if (platform === "shinyapps" && !url.includes("shinyapps.io")) {
          showNotification(
            "XÉ™ta",
            "ZÉ™hmÉ™t olmasa shinyapps.io linkini daxil edin!",
            "error"
          );
          return;
        }

        const cloudInfo = {
          id: Date.now(),
          title: title,
          url: url,
          platform: platform,
          type: "cloud",
          materialType: materialType,
          description:
            description || `${platform} platformasÄ±nda hosted elmi material`,
          addedDate: new Date().toLocaleDateString("az-AZ"),
          status: "completed",
        };

        uploadedFiles.push(cloudInfo);

        // Clear form
        document.getElementById("researchCloudUrl").value = "";
        document.getElementById("researchCloudTitle").value = "";
        document.getElementById("researchCloudDescription").value = "";

        filterFiles(currentFilter);
        autoSaveData();
        showNotification(
          "Cloud MaterialÄ± ÆlavÉ™ Edildi",
          `"${title}" elmi kitabxanaya É™lavÉ™ edildi`,
          "success"
        );
      }

      // Manual Entry Handler
      function addManualEntry() {
        const title = document.getElementById("manualTitle").value.trim();
        const authors = document.getElementById("manualAuthors").value.trim();
        const year = document.getElementById("manualYear").value.trim();
        const link = document.getElementById("manualLink").value.trim();
        const description = document
          .getElementById("manualDescription")
          .value.trim();

        if (!title || !description) {
          showNotification(
            "XÉ™ta",
            "BaÅŸlÄ±q vÉ™ tÉ™svir mÃ¼tlÉ™q doldurulmalÄ±dÄ±r!",
            "error"
          );
          return;
        }

        const manualInfo = {
          id: Date.now(),
          title: title,
          authors: authors,
          year: year,
          url: link,
          description: description,
          type: "manual",
          addedDate: new Date().toLocaleDateString("az-AZ"),
          status: "completed",
        };

        uploadedFiles.push(manualInfo);

        // Clear form
        document.getElementById("manualTitle").value = "";
        document.getElementById("manualAuthors").value = "";
        document.getElementById("manualYear").value = "";
        document.getElementById("manualLink").value = "";
        document.getElementById("manualDescription").value = "";

        filterFiles(currentFilter);
        autoSaveData();
        showNotification(
          "Manual GiriÅŸ ÆlavÉ™ Edildi",
          `"${title}" kitabxanaya É™lavÉ™ edildi`,
          "success"
        );
      }

      // Create new R Markdown file
      function createNewRmd() {
        const filename = prompt("Yeni .Rmd faylÄ±nÄ±n adÄ±nÄ± daxil edin:");
        if (!filename) return;

        const rmdTemplate = `---
title: "${filename}"
author: "TalÄ±bov Tariyel Ä°smayÄ±l oÄŸlu"
date: "${new Date().toLocaleDateString("az-AZ")}"
output: html_document
---

\`\`\`{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
\`\`\`

## BaÅŸlÄ±q

Bu bÃ¶lmÉ™dÉ™ mÉ™zmunu yazÄ±n.

\`\`\`{r}
# R kod bloku
summary(cars)
\`\`\`

## QrafiklÉ™r

\`\`\`{r}
plot(cars)
\`\`\`
`;

        const blob = new Blob([rmdTemplate], { type: "text/plain" });
        const file = new File(
          [blob],
          filename.endsWith(".Rmd") ? filename : filename + ".Rmd",
          { type: "text/plain" }
        );

        const mockEvent = {
          target: { files: [file] },
        };

        handleFileUpload(mockEvent);
        showNotification(
          "Yeni .Rmd YaradÄ±ldÄ±",
          `${file.name} faylÄ± yaradÄ±ldÄ± vÉ™ kitabxanaya É™lavÉ™ edildi`,
          "success"
        );
      }

      // File filtering for Research section
      function filterFiles(filterType) {
        currentFilter = filterType;

        document
          .querySelectorAll("#research .filter-btn")
          .forEach((btn) => btn.classList.remove("active"));
        event?.target?.classList.add("active") ||
          document
            .querySelector(`#research [onclick="filterFiles('${filterType}')"]`)
            ?.classList.add("active");

        const container = document.getElementById("uploadedFiles");
        if (!container) {
          console.error("uploadedFiles container not found");
          return;
        }

        container.innerHTML = "";

        const filteredFiles = uploadedFiles.filter((file) => {
          if (filterType === "all") return true;
          return file.type === filterType;
        });

        if (filteredFiles.length === 0) {
          container.innerHTML = `
                    <div style="text-align: center; padding: 40px; color: #6c757d;">
                        <h3>HeÃ§ bir fayl tapÄ±lmadÄ±</h3>
                        <p>${
                          filterType === "all"
                            ? "HÉ™lÉ™ heÃ§ bir fayl yÃ¼klÉ™nmÉ™yib."
                            : "Bu filterdÉ™ heÃ§ bir fayl yoxdur."
                        }</p>
                    </div>
                `;
          return;
        }

        filteredFiles.forEach((file) => addFileCard(file));
      }

      function addFileCard(fileInfo) {
        const container = document.getElementById("uploadedFiles");

        const card = document.createElement("div");
        card.className = `info-card ${fileInfo.type}-file`;
        card.style.marginBottom = "20px";
        card.setAttribute("data-file-id", fileInfo.id);
        card.setAttribute("data-file-type", fileInfo.type);

        const icon = getFileIcon(fileInfo.type, fileInfo.name);
        const description = getFileDescription(fileInfo);
        const actions = getFileActions(fileInfo);

        card.innerHTML = `
                <div style="display: flex; justify-content: space-between; align-items: start; gap: 20px;">
                    <div style="flex: 1;">
                        <h3 class="card-title">${icon} ${
          fileInfo.title || fileInfo.name
        }</h3>
                        <p class="card-period">${
                          fileInfo.addedDate
                        } | ${getFileTypeLabel(fileInfo.type)}</p>
                        <p class="card-description">${description}</p>
                        ${getAdditionalInfo(fileInfo)}
                    </div>
                    <div class="card-actions" style="flex-shrink: 0; min-width: 200px;">
                        ${actions}
                    </div>
                </div>
            `;

        container.appendChild(card);
      }

      function getFileIcon(type, filename) {
        const icons = {
          rmd: "ğŸ“Š",
          "r-script": "ğŸ“ˆ",
          pdf: "ğŸ“„",
          word: "ğŸ“",
          html: "ğŸŒ",
          text: "ğŸ“ƒ",
          markdown: "ğŸ“‹",
          repos: "ğŸ”—",
          rpubs: "ğŸŒ",
          github: "ğŸ’»",
          cloud: "â˜ï¸",
          manual: "âœï¸",
          archive: "ğŸ“¦",
          data: "ğŸ“Š",
        };
        return icons[type] || "ğŸ“";
      }

      function getFileTypeLabel(type) {
        const labels = {
          rmd: "R Markdown",
          "r-script": "R Script",
          pdf: "PDF SÉ™nÉ™d",
          word: "Word SÉ™nÉ™d",
          html: "HTML SÉ™hifÉ™",
          text: "MÉ™tn FaylÄ±",
          markdown: "Markdown",
          repos: "DigÉ™r Repository",
          rpubs: "RPubs PublikasiyasÄ±",
          github: "GitHub Repository",
          cloud: "Cloud Hosting",
          manual: "Manual GiriÅŸ",
          archive: "Arxiv FaylÄ±",
          data: "MÉ™lumat FaylÄ±",
        };
        return labels[type] || "NamÉ™lum Format";
      }

      function getFileDescription(fileInfo) {
        if (fileInfo.description) return fileInfo.description;
        if (fileInfo.authors) return `MÃ¼É™llif: ${fileInfo.authors}`;
        if (fileInfo.size) return `Ã–lÃ§Ã¼: ${formatFileSize(fileInfo.size)}`;
        return "Fayl tÉ™sviri É™lÃ§atan deyil";
      }

      function getAdditionalInfo(fileInfo) {
        let info = "";

        if (fileInfo.type === "repos" && fileInfo.url) {
          const platformNames = {
            gitlab: "GitLab",
            bitbucket: "Bitbucket",
            codeberg: "Codeberg",
            sourceforge: "SourceForge",
            other: "DigÉ™r Repository",
          };
          const platformName = platformNames[fileInfo.platform] || "Repository";
          info += `<div style="background: #fff5f5; padding: 15px; border-radius: 10px; margin-top: 10px;">
                    <strong>ğŸ”— ${platformName} Repository</strong><br>
                    <a href="${fileInfo.url}" target="_blank" rel="noopener noreferrer" style="color: #e17055; text-decoration: none; word-break: break-all;">${fileInfo.url}</a>
                </div>`;
        }

        if (fileInfo.type === "rpubs" && fileInfo.url) {
          info += `<div class="rpubs-info">
                    <h4>ğŸŒ RPubs PublikasiyasÄ±</h4>
                    <a href="${fileInfo.url}" target="_blank" rel="noopener noreferrer" class="rpubs-link">RPubs-da AÃ§</a>
                </div>`;
        }

        if (fileInfo.type === "github" && fileInfo.url) {
          info += `<div style="background: #f8f9fa; padding: 15px; border-radius: 10px; margin-top: 10px;">
                    <strong>ğŸ’» GitHub Repository</strong><br>
                    <a href="${fileInfo.url}" target="_blank" rel="noopener noreferrer" style="color: #6c5ce7; text-decoration: none;">Repository-dÉ™ Bax</a>
                </div>`;
        }

        if (fileInfo.type === "cloud" && fileInfo.url) {
          const cloudNames = {
            shinyapps: "Shinyapps.io",
            digitalocean: "DigitalOcean",
            aws: "Amazon AWS",
            gcp: "Google Cloud",
            azure: "Microsoft Azure",
            heroku: "Heroku",
            vercel: "Vercel",
            netlify: "Netlify",
            other: "Cloud Platform",
          };
          const cloudName = cloudNames[fileInfo.platform] || "Cloud";
          info += `<div style="background: #f0fffe; padding: 15px; border-radius: 10px; margin-top: 10px;">
                    <strong>â˜ï¸ ${cloudName} Hosted</strong><br>
                    <a href="${fileInfo.url}" target="_blank" rel="noopener noreferrer" style="color: #00b894; text-decoration: none; word-break: break-all;">${fileInfo.url}</a>
                </div>`;
        }

        if (fileInfo.content && fileInfo.content.length > 0) {
          info += `<p style="color: #27ae60; font-size: 0.9em; margin-top: 10px;">âœ… MÉ™zmun yÃ¼klÉ™ndi: ${fileInfo.content.length} simvol</p>`;
        }

        if (fileInfo.year) {
          info += `<p style="color: #74b9ff; font-size: 0.9em;">ğŸ“… NÉ™ÅŸr ili: ${fileInfo.year}</p>`;
        }

        if (fileInfo.materialType) {
          const materialNames = {
            rmarkdown: "R Markdown Analiz",
            research: "Elmi TÉ™dqiqat",
            script: "R Script",
            dataset: "MÉ™lumat Toplusu",
            paper: "Elmi MÉ™qalÉ™",
            book: "Kitab/Ælyazma",
            shiny: "R Shiny Analiz",
            dashboard: "Ä°nteraktiv Dashboard",
            webapp: "Web TÉ™tbiqi",
            document: "Online SÉ™nÉ™d",
            api: "Data API",
          };
          const materialName =
            materialNames[fileInfo.materialType] || fileInfo.materialType;
          info += `<p style="color: #2980b9; font-size: 0.9em;">ğŸ“‹ Material nÃ¶vÃ¼: ${materialName}</p>`;
        }

        return info;
      }

      function getFileActions(fileInfo) {
        let actions = "";

        if (fileInfo.content) {
          actions += `<button class="action-button" onclick="previewFile(${fileInfo.id})">ğŸ‘ï¸ Ã–n izlÉ™mÉ™</button>`;
        }

        if (fileInfo.url) {
          actions += `<button class="action-button secondary" onclick="window.open('${fileInfo.url}', '_blank', 'noopener,noreferrer')">ğŸŒ Xarici Link</button>`;
        }

        if (fileInfo.file) {
          actions += `<button class="action-button success" onclick="downloadFile(${fileInfo.id})">â¬‡ï¸ YÃ¼klÉ™</button>`;
        }

        if (
          fileInfo.type === "manual" ||
          fileInfo.type === "rpubs" ||
          fileInfo.type === "github" ||
          fileInfo.type === "repos" ||
          fileInfo.type === "cloud"
        ) {
          actions += `<button class="action-button" onclick="editFile(${fileInfo.id})">âœï¸ RedaktÉ™</button>`;
        }

        actions += `<button class="action-button danger" onclick="removeFile(${fileInfo.id})">ğŸ—‘ï¸ Sil</button>`;

        return actions;
      }

      // File operations
      function previewFile(fileId) {
        const file = uploadedFiles.find((f) => f.id === fileId);
        if (!file || !file.content) {
          showNotification("XÉ™ta", "Fayl mÉ™zmunu É™lÃ§atan deyil", "error");
          return;
        }

        const modal = createModal();
        const content = modal.querySelector(".modal-content");

        let displayContent = file.content;
        if (file.name && file.name.toLowerCase().endsWith(".rmd")) {
          displayContent = formatRmarkdownContent(file.content);
        }

        content.innerHTML = `
                <div class="modal-header">
                    <h3>${getFileIcon(file.type)} ${
          file.title || file.name
        }</h3>
                    <button onclick="closeModal()" class="close-btn">Ã—</button>
                </div>
                <div class="modal-body">
                    <div class="file-preview">${displayContent}</div>
                    <div class="file-stats">
                        <strong>ğŸ“Š Fayl mÉ™lumatlarÄ±:</strong><br>
                        ${
                          file.size
                            ? `Ã–lÃ§Ã¼: ${formatFileSize(file.size)} | `
                            : ""
                        }
                        Simvollar: ${file.content.length} | 
                        SÉ™trlÉ™r: ${file.content.split("\n").length}
                    </div>
                </div>
            `;
      }

      function editFile(fileId) {
        const file = uploadedFiles.find((f) => f.id === fileId);
        if (!file) return;

        const modal = createModal();
        const content = modal.querySelector(".modal-content");

        content.innerHTML = `
                <div class="modal-header">
                    <h3>âœï¸ ${file.title || file.name} RedaktÉ™si</h3>
                    <button onclick="closeModal()" class="close-btn">Ã—</button>
                </div>
                <div class="modal-body">
                    <div style="margin-bottom: 15px;">
                        <label>BaÅŸlÄ±q:</label>
                        <input type="text" id="editTitle" value="${
                          file.title || file.name
                        }" style="width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #ddd;">
                    </div>
                    ${
                      file.authors
                        ? `
                    <div style="margin-bottom: 15px;">
                        <label>MÃ¼É™lliflÉ™r:</label>
                        <input type="text" id="editAuthors" value="${file.authors}" style="width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #ddd;">
                    </div>`
                        : ""
                    }
                    ${
                      file.year
                        ? `
                    <div style="margin-bottom: 15px;">
                        <label>NÉ™ÅŸr ili:</label>
                        <input type="text" id="editYear" value="${file.year}" style="width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #ddd;">
                    </div>`
                        : ""
                    }
                    ${
                      file.url
                        ? `
                    <div style="margin-bottom: 15px;">
                        <label>URL:</label>
                        <input type="url" id="editUrl" value="${file.url}" style="width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #ddd;">
                    </div>`
                        : ""
                    }
                    ${
                      file.platform
                        ? `
                    <div style="margin-bottom: 15px;">
                        <label>Platform:</label>
                        <input type="text" id="editPlatform" value="${file.platform}" style="width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #ddd;" readonly>
                    </div>`
                        : ""
                    }
                    <div style="margin-bottom: 15px;">
                        <label>TÉ™svir:</label>
                        <textarea id="editDescription" rows="4" style="width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #ddd;">${
                          file.description || ""
                        }</textarea>
                    </div>
                    <div style="text-align: center;">
                        <button class="action-button success" onclick="saveFileEdit(${fileId})">ğŸ’¾ Yadda Saxla</button>
                        <button class="action-button" onclick="closeModal()">âŒ LÉ™ÄŸv Et</button>
                    </div>
                </div>
            `;
      }

      function saveFileEdit(fileId) {
        const file = uploadedFiles.find((f) => f.id === fileId);
        if (!file) return;

        file.title = document.getElementById("editTitle").value;
        if (document.getElementById("editAuthors")) {
          file.authors = document.getElementById("editAuthors").value;
        }
        if (document.getElementById("editYear")) {
          file.year = document.getElementById("editYear").value;
        }
        if (document.getElementById("editUrl")) {
          file.url = document.getElementById("editUrl").value;
        }
        if (document.getElementById("editPlatform")) {
          file.platform = document.getElementById("editPlatform").value;
        }
        file.description = document.getElementById("editDescription").value;

        closeModal();
        filterFiles(currentFilter);
        autoSaveData();
        showNotification(
          "YenilÉ™ndi",
          "Fayl mÉ™lumatlarÄ± uÄŸurla yenilÉ™ndi!",
          "success"
        );
      }

      function downloadFile(fileId) {
        const file = uploadedFiles.find((f) => f.id === fileId);
        if (!file || !file.file) {
          showNotification("XÉ™ta", "Fayl yÃ¼klÉ™nmÉ™ Ã¼Ã§Ã¼n É™lÃ§atan deyil", "error");
          return;
        }

        const url = URL.createObjectURL(file.file);
        const a = document.createElement("a");
        a.href = url;
        a.download = file.name;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);

        showNotification(
          "YÃ¼klÉ™nir",
          `${file.name} yÃ¼klÉ™nmÉ™yÉ™ baÅŸladÄ±`,
          "success"
        );
      }

      function removeFile(fileId) {
        const file = uploadedFiles.find((f) => f.id === fileId);
        if (!file) return;

        if (
          confirm(
            `"${
              file.title || file.name
            }" faylÄ±nÄ± silmÉ™k istÉ™diyinizdÉ™n É™minsiniz?`
          )
        ) {
          uploadedFiles = uploadedFiles.filter((f) => f.id !== fileId);
          filterFiles(currentFilter);
          autoSaveData();
          showNotification("Silindi", "Fayl uÄŸurla silindi", "success");
        }
      }

      // App filtering and card management
      function filterApps(filterType) {
        currentAppFilter = filterType;

        document
          .querySelectorAll("#applications .filter-btn")
          .forEach((btn) => btn.classList.remove("active"));
        event?.target?.classList.add("active") ||
          document
            .querySelector(
              `#applications [onclick="filterApps('${filterType}')"]`
            )
            ?.classList.add("active");

        const container = document.getElementById("uploadedApps");
        container.innerHTML = "";

        const filteredApps = uploadedApps.filter((app) => {
          if (filterType === "all") return true;
          return app.type === filterType;
        });

        if (filteredApps.length === 0) {
          container.innerHTML = `
                    <div style="text-align: center; padding: 40px; color: #6c757d;">
                        <h3>HeÃ§ bir tÉ™tbiq tapÄ±lmadÄ±</h3>
                        <p>${
                          filterType === "all"
                            ? "HÉ™lÉ™ heÃ§ bir tÉ™tbiq É™lavÉ™ edilmÉ™yib."
                            : "Bu filterdÉ™ heÃ§ bir tÉ™tbiq yoxdur."
                        }</p>
                    </div>
                `;
          return;
        }

        filteredApps.forEach((app) => addAppCard(app));
      }

      function addAppCard(appInfo) {
        const container = document.getElementById("uploadedApps");

        const card = document.createElement("div");
        card.className = `info-card ${appInfo.type}-app`;
        card.style.marginBottom = "20px";
        card.setAttribute("data-app-id", appInfo.id);
        card.setAttribute("data-app-type", appInfo.type);

        const icon = getAppIcon(appInfo.type, appInfo.appType);
        const description = appInfo.description;
        const actions = getAppActions(appInfo);

        card.innerHTML = `
                <div style="display: flex; justify-content: space-between; align-items: start; gap: 20px;">
                    <div style="flex: 1;">
                        <h3 class="card-title">${icon} ${appInfo.title}</h3>
                        <p class="card-period">${
                          appInfo.addedDate
                        } | ${getAppTypeLabel(appInfo.type)}</p>
                        <p class="card-description">${description}</p>
                        ${getAppAdditionalInfo(appInfo)}
                    </div>
                    <div class="card-actions" style="flex-shrink: 0; min-width: 200px;">
                        ${actions}
                    </div>
                </div>
            `;

        container.appendChild(card);
      }

      function getAppIcon(type, appType) {
        const icons = {
          github: "ğŸ’»",
          repos: "ğŸ”—",
          shinyapps: "ğŸŒ",
          cloud: "â˜ï¸",
          zip: "ğŸ“¦",
          manual: "ğŸ”—",
        };
        return icons[type] || "ğŸ“±";
      }

      function getAppTypeLabel(type) {
        const labels = {
          github: "GitHub Repository",
          repos: "DigÉ™r Repository",
          shinyapps: "Shinyapps.io",
          cloud: "Cloud Hosting",
          zip: "ZIP Fayl",
          manual: "Xarici Platform",
        };
        return labels[type] || "NamÉ™lum";
      }

      function getAppAdditionalInfo(appInfo) {
        let info = "";

        if (appInfo.type === "github" && appInfo.url) {
          info += `<div style="background: #f8f9fa; padding: 15px; border-radius: 10px; margin-top: 10px;">
                    <strong>ğŸ’» GitHub Repository</strong><br>
                    <a href="${appInfo.url}" target="_blank" rel="noopener noreferrer" style="color: #6c5ce7; text-decoration: none; word-break: break-all;">${appInfo.url}</a>
                </div>`;
        }

        if (appInfo.type === "shinyapps" && appInfo.url) {
          info += `<div style="background: #e8f4ff; padding: 15px; border-radius: 10px; margin-top: 10px;">
                    <strong>ğŸŒ CanlÄ± TÉ™tbiq</strong><br>
                    <a href="${appInfo.url}" target="_blank" rel="noopener noreferrer" style="color: #74b9ff; text-decoration: none; word-break: break-all;">${appInfo.url}</a>
                </div>`;
        }

        if (appInfo.fileSize) {
          info += `<p style="color: #e17055; font-size: 0.9em;">ğŸ“¦ Fayl Ã¶lÃ§Ã¼sÃ¼: ${formatFileSize(
            appInfo.fileSize
          )}</p>`;
        }

        return info;
      }

      function getAppActions(appInfo) {
        let actions = "";

        if (appInfo.url) {
          actions += `<button class="action-button success" onclick="window.open('${appInfo.url}', '_blank', 'noopener,noreferrer')">ğŸš€ TÉ™tbiqi AÃ§</button>`;
        }

        if (appInfo.file) {
          actions += `<button class="action-button secondary" onclick="downloadApp(${appInfo.id})">â¬‡ï¸ YÃ¼klÉ™</button>`;
        }

        actions += `<button class="action-button" onclick="editApp(${appInfo.id})">âœï¸ RedaktÉ™</button>`;
        actions += `<button class="action-button danger" onclick="removeApp(${appInfo.id})">ğŸ—‘ï¸ Sil</button>`;

        return actions;
      }

      function removeApp(appId) {
        const app = uploadedApps.find((a) => a.id === appId);
        if (!app) return;

        if (
          confirm(`"${app.title}" tÉ™tbiqini silmÉ™k istÉ™diyinizdÉ™n É™minsiniz?`)
        ) {
          uploadedApps = uploadedApps.filter((a) => a.id !== appId);
          filterApps(currentAppFilter);
          autoSaveData();
          showNotification("Silindi", "TÉ™tbiq uÄŸurla silindi", "success");
        }
      }

      // GitHub App Handler
      function addGitHubApp() {
        const url = document.getElementById("appGithubUrl").value.trim();
        const title = document.getElementById("appGithubTitle").value.trim();
        const type = document.getElementById("appGithubType").value;
        const description = document
          .getElementById("appGithubDescription")
          .value.trim();

        if (!url || !title) {
          showNotification(
            "XÉ™ta",
            "URL vÉ™ baÅŸlÄ±q mÃ¼tlÉ™q doldurulmalÄ±dÄ±r!",
            "error"
          );
          return;
        }

        if (!url.includes("github.com")) {
          showNotification(
            "XÉ™ta",
            "ZÉ™hmÉ™t olmasa GitHub.com linkini daxil edin!",
            "error"
          );
          return;
        }

        const appInfo = {
          id: Date.now(),
          title: title,
          url: url,
          type: "github",
          appType: type,
          description: description || "GitHub repository tÉ™tbiqi",
          addedDate: new Date().toLocaleDateString("az-AZ"),
          status: "completed",
        };

        uploadedApps.push(appInfo);

        // Clear form
        document.getElementById("appGithubUrl").value = "";
        document.getElementById("appGithubTitle").value = "";
        document.getElementById("appGithubDescription").value = "";

        filterApps(currentAppFilter);
        autoSaveData();
        showNotification(
          "GitHub TÉ™tbiqi ÆlavÉ™ Edildi",
          `"${title}" tÉ™tbiq kitabxanasÄ±na É™lavÉ™ edildi`,
          "success"
        );
      }

      // Additional app handlers
      function addShinyappsApp() {
        const url = document.getElementById("shinyappsUrl").value.trim();
        const title = document.getElementById("shinyappsTitle").value.trim();

        if (!url || !title) {
          showNotification(
            "XÉ™ta",
            "URL vÉ™ baÅŸlÄ±q mÃ¼tlÉ™q doldurulmalÄ±dÄ±r!",
            "error"
          );
          return;
        }

        if (!url.includes("shinyapps.io")) {
          showNotification(
            "XÉ™ta",
            "ZÉ™hmÉ™t olmasa shinyapps.io linkini daxil edin!",
            "error"
          );
          return;
        }

        const appInfo = {
          id: Date.now(),
          title: title,
          url: url,
          type: "shinyapps",
          description:
            document.getElementById("shinyappsDescription").value.trim() ||
            "Shinyapps.io tÉ™tbiqi",
          addedDate: new Date().toLocaleDateString("az-AZ"),
          status: "completed",
        };

        uploadedApps.push(appInfo);
        document.getElementById("shinyappsUrl").value = "";
        document.getElementById("shinyappsTitle").value = "";
        document.getElementById("shinyappsDescription").value = "";

        filterApps(currentAppFilter);
        autoSaveData();
        showNotification(
          "Shinyapps.io ÆlavÉ™ Edildi",
          `"${title}" tÉ™tbiq kitabxanasÄ±na É™lavÉ™ edildi`,
          "success"
        );
      }

      function addRepositoryApp() {
        const url = document.getElementById("repoUrl").value.trim();
        const title = document.getElementById("repoTitle").value.trim();

        if (!url || !title) {
          showNotification(
            "XÉ™ta",
            "URL vÉ™ baÅŸlÄ±q mÃ¼tlÉ™q doldurulmalÄ±dÄ±r!",
            "error"
          );
          return;
        }

        const appInfo = {
          id: Date.now(),
          title: title,
          url: url,
          type: "repos",
          platform: document.getElementById("repoPlatform").value,
          description:
            document.getElementById("repoDescription").value.trim() ||
            "Repository tÉ™tbiqi",
          addedDate: new Date().toLocaleDateString("az-AZ"),
          status: "completed",
        };

        uploadedApps.push(appInfo);
        document.getElementById("repoUrl").value = "";
        document.getElementById("repoTitle").value = "";
        document.getElementById("repoDescription").value = "";

        filterApps(currentAppFilter);
        autoSaveData();
        showNotification(
          "Repository ÆlavÉ™ Edildi",
          `"${title}" tÉ™tbiq kitabxanasÄ±na É™lavÉ™ edildi`,
          "success"
        );
      }

      function addCloudApp() {
        const url = document.getElementById("cloudUrl").value.trim();
        const title = document.getElementById("cloudTitle").value.trim();

        if (!url || !title) {
          showNotification(
            "XÉ™ta",
            "URL vÉ™ baÅŸlÄ±q mÃ¼tlÉ™q doldurulmalÄ±dÄ±r!",
            "error"
          );
          return;
        }

        const appInfo = {
          id: Date.now(),
          title: title,
          url: url,
          type: "cloud",
          platform: document.getElementById("cloudPlatform").value,
          description:
            document.getElementById("cloudDescription").value.trim() ||
            "Cloud tÉ™tbiqi",
          addedDate: new Date().toLocaleDateString("az-AZ"),
          status: "completed",
        };

        uploadedApps.push(appInfo);
        document.getElementById("cloudUrl").value = "";
        document.getElementById("cloudTitle").value = "";
        document.getElementById("cloudDescription").value = "";

        filterApps(currentAppFilter);
        autoSaveData();
        showNotification(
          "Cloud TÉ™tbiqi ÆlavÉ™ Edildi",
          `"${title}" tÉ™tbiq kitabxanasÄ±na É™lavÉ™ edildi`,
          "success"
        );
      }

      function handleZipAppUpload(event) {
        const file = event.target.files[0];
        const title = document.getElementById("zipAppTitle").value.trim();

        if (!file) return;
        if (!title) {
          showNotification("XÉ™ta", "TÉ™tbiq baÅŸlÄ±ÄŸÄ±nÄ± daxil edin!", "error");
          return;
        }

        const appInfo = {
          id: Date.now(),
          title: title,
          fileName: file.name,
          fileSize: file.size,
          type: "zip",
          description:
            document.getElementById("zipAppDescription").value.trim() ||
            "ZIP formatÄ±nda tÉ™tbiq",
          addedDate: new Date().toLocaleDateString("az-AZ"),
          status: "completed",
          file: file,
        };

        uploadedApps.push(appInfo);
        document.getElementById("zipAppTitle").value = "";
        document.getElementById("zipAppDescription").value = "";
        event.target.value = "";

        filterApps(currentAppFilter);
        autoSaveData();
        showNotification(
          "ZIP TÉ™tbiqi ÆlavÉ™ Edildi",
          `"${title}" tÉ™tbiq kitabxanasÄ±na É™lavÉ™ edildi`,
          "success"
        );
      }

      function addManualApp() {
        const url = document.getElementById("manualAppUrl").value.trim();
        const title = document.getElementById("manualAppTitle").value.trim();

        if (!url || !title) {
          showNotification(
            "XÉ™ta",
            "URL vÉ™ baÅŸlÄ±q mÃ¼tlÉ™q doldurulmalÄ±dÄ±r!",
            "error"
          );
          return;
        }

        const appInfo = {
          id: Date.now(),
          title: title,
          url: url,
          type: "manual",
          platform:
            document.getElementById("manualAppPlatform").value.trim() ||
            "NamÉ™lum Platform",
          description:
            document.getElementById("manualAppDescription").value.trim() ||
            "Xarici platform tÉ™tbiqi",
          addedDate: new Date().toLocaleDateString("az-AZ"),
          status: "completed",
        };

        uploadedApps.push(appInfo);
        document.getElementById("manualAppUrl").value = "";
        document.getElementById("manualAppTitle").value = "";
        document.getElementById("manualAppPlatform").value = "";
        document.getElementById("manualAppDescription").value = "";

        filterApps(currentAppFilter);
        autoSaveData();
        showNotification(
          "Xarici TÉ™tbiq ÆlavÉ™ Edildi",
          `"${title}" tÉ™tbiq kitabxanasÄ±na É™lavÉ™ edildi`,
          "success"
        );
      }

      function createShinyTemplate() {
        showNotification(
          "Åablon YaradÄ±lÄ±r",
          "Shiny App ÅŸablonu hazÄ±rlanÄ±r...",
          "info"
        );
      }

      function downloadApp(appId) {
        const app = uploadedApps.find((a) => a.id === appId);
        if (!app || !app.file) {
          showNotification("XÉ™ta", "Fayl yÃ¼klÉ™nmÉ™ Ã¼Ã§Ã¼n É™lÃ§atan deyil", "error");
          return;
        }

        const url = URL.createObjectURL(app.file);
        const a = document.createElement("a");
        a.href = url;
        a.download = app.fileName;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);

        showNotification(
          "YÃ¼klÉ™nir",
          `${app.title} yÃ¼klÉ™nmÉ™yÉ™ baÅŸladÄ±`,
          "success"
        );
      }

      function editApp(appId) {
        showNotification(
          "RedaktÉ™",
          "TÉ™tbiq redaktÉ™ funksiyasÄ± hazÄ±rlanÄ±r...",
          "info"
        );
      }

      // Utility functions
      function formatFileSize(bytes) {
        if (bytes === 0) return "0 Bytes";
        const k = 1024;
        const sizes = ["Bytes", "KB", "MB", "GB"];
        const i = Math.floor(Math.log(bytes) / Math.log(k));
        return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + " " + sizes[i];
      }

      function formatRmarkdownContent(content) {
        return content
          .replace(
            /^---\n([\s\S]*?)\n---/m,
            '<div class="yaml-block"><strong>ğŸ“‹ YAML Metadata:</strong><pre>$1</pre></div>'
          )
          .replace(
            /```\{([^}]*)\}([\s\S]*?)```/g,
            '<div class="code-block r-code"><strong>ğŸ’» $1 Kod:</strong><pre>$2</pre></div>'
          )
          .replace(
            /```([^`]*?)```/g,
            '<div class="code-block"><strong>ğŸ“„ Kod:</strong><pre>$1</pre></div>'
          )
          .replace(
            /^#{1,6}\s(.+)$/gm,
            '<h4 style="color: #1e3c72; margin: 15px 0;">$1</h4>'
          )
          .replace(/\*\*([^*]+)\*\*/g, "<strong>$1</strong>")
          .replace(/\*([^*]+)\*/g, "<em>$1</em>");
      }

      function createModal() {
        const modal = document.createElement("div");
        modal.className = "modal";
        modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.8);
                z-index: 2000;
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 20px;
            `;

        const content = document.createElement("div");
        content.className = "modal-content";
        content.style.cssText = `
                background: white;
                border-radius: 15px;
                max-width: 900px;
                max-height: 85vh;
                overflow-y: auto;
                position: relative;
                width: 90%;
                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            `;

        modal.appendChild(content);
        document.body.appendChild(modal);

        modal.onclick = (e) => {
          if (e.target === modal) closeModal();
        };

        return modal;
      }

      function closeModal() {
        const modal = document.querySelector(".modal");
        if (modal) {
          modal.remove();
        }
      }

      function showProgress() {
        document.getElementById("uploadProgress").style.display = "block";
      }

      function hideProgress() {
        setTimeout(() => {
          document.getElementById("uploadProgress").style.display = "none";
        }, 1000);
      }

      function updateProgress(percentage, text) {
        document.getElementById("progressFill").style.width = percentage + "%";
        document.getElementById("progressText").textContent = text;
      }

      // Original functions (kept for compatibility)
      function handleTestUpload() {
        showContent("research");
        showNotification(
          "Test YÃ¼klÉ™mÉ™ Sistemi",
          "Elmi yazÄ±lar bÃ¶lmÉ™sinÉ™ yÃ¶nlÉ™ndirildiniz. Test materiallarÄ±nÄ±zÄ± buradan yÃ¼klÉ™yÉ™ bilÉ™rsiniz.",
          "info"
        );
      }

      function viewTestBank(category) {
        const categories = {
          math: "Riyaziyyat Test BankÄ± aÃ§Ä±lÄ±r...",
          methodology: "Testologiya MetodlarÄ± bÃ¶lmÉ™si",
          statistics: "Statistik Analiz VasitÉ™lÉ™ri",
        };
        showNotification("Test BankÄ±", categories[category], "info");
      }

      function openResearch(type) {
        const research = {
          testology: "Testologiya Elmi: MÃ¼asir PerspektivlÉ™r",
          standards: "AzÉ™rbaycan TÉ™hsilindÉ™ Riyaziyyat StandartlarÄ±",
          "r-analytics": "R Dili ilÉ™ TÉ™hsil AnalitikasÄ±",
          psychometry: "Psixometriya vÉ™ Test ValidasiyasÄ±",
        };
        showNotification(
          "Elmi ÆsÉ™r",
          `"${research[type]}" mÉ™qalÉ™si aÃ§Ä±lÄ±r...`,
          "info"
        );
      }

      function downloadResearch(type) {
        showNotification(
          "YÃ¼klÉ™nir",
          "AraÅŸdÄ±rma materialÄ± yÃ¼klÉ™nmÉ™yÉ™ baÅŸladÄ±...",
          "success"
        );
      }

      function launchApp(appType) {
        const appNames = {
          dashboard: "Test Analizi Dashboard-u",
          performance: "TÉ™lÉ™bÉ™ Performans Monitoru",
          questionbank: "Sual BankÄ± Ä°darÉ™etmÉ™si",
          reports: "Avtomatik Hesabat Sistemi",
          psychometric: "Psixometrik Analiz VasitÉ™si",
          interactive: "Ä°nteraktiv Ã–yrÉ™dici ModullÉ™r",
        };
        showNotification(
          "TÉ™tbiq AÃ§Ä±lÄ±r",
          `${appNames[appType]} hazÄ±rlanÄ±r...`,
          "info"
        );
      }

      // Notification system
      function showNotification(title, message, type = "info") {
        const notification = document.createElement("div");
        notification.className = "notification";
        notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #1e3c72, #74b9ff);
                color: white;
                padding: 20px 25px;
                border-radius: 15px;
                box-shadow: 0 15px 35px rgba(30, 60, 114, 0.3);
                z-index: 3000;
                max-width: 400px;
                backdrop-filter: blur(10px);
                border: 1px solid rgba(255, 255, 255, 0.2);
                transform: translateX(500px);
                transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            `;

        if (type === "success") {
          notification.style.background =
            "linear-gradient(135deg, #00b894, #00cec9)";
        } else if (type === "error") {
          notification.style.background =
            "linear-gradient(135deg, #e17055, #e84393)";
        }

        notification.innerHTML = `
                <h4 style="margin: 0 0 10px 0; font-size: 1.1em; font-weight: 600;">${title}</h4>
                <p style="margin: 0; font-size: 0.95em; opacity: 0.9; line-height: 1.5; white-space: pre-line;">${message}</p>
            `;

        document.body.appendChild(notification);

        setTimeout(() => {
          notification.style.transform = "translateX(0)";
        }, 100);

        setTimeout(() => {
          notification.style.transform = "translateX(500px)";
          setTimeout(() => {
            if (document.body.contains(notification)) {
              document.body.removeChild(notification);
            }
          }, 400);
        }, 4000);
      }

      // Initialize page
      document.addEventListener("DOMContentLoaded", function () {
        console.log(
          "Sayfa yÃ¼klendi - Enhanced GitHub sistemli portal baÅŸladÄ±lÄ±r..."
        );

        // Load data in order: localStorage first, then URL data
        loadFromLocalStorage();
        const urlDataLoaded = loadDataFromURL();

        setupDragAndDrop();

        // Initialize displays
        filterApps("all");
        filterFiles("all");
        renderExternalLinks();
        updateDynamicStats();

        // Setup auto-save interval
        setInterval(saveToLocalStorage, AUTO_SAVE_INTERVAL);

        console.log(
          "Enhanced Portal hazÄ±rdÄ±r! localStorage + URL backup sistemi aktiv."
        );

        setTimeout(() => {
          if (
            uploadedFiles.length === 0 &&
            uploadedApps.length === 0 &&
            externalLinks.length === 0
          ) {
            showNotification(
              "GitHub-da HazÄ±r Portal!",
              `ğŸ‰ Portal tam hazÄ±rdÄ±r vÉ™ GitHub Pages-dÉ™ mÃ¼kÉ™mmÉ™l iÅŸlÉ™yir!\nâœ… localStorage + URL backup sistemi\nğŸ”— "GitHub Backup" ilÉ™ paylaÅŸÄ±la bilÉ™n link\nğŸ’¾ Avtomatik qorunma aktiv\nğŸ“± Tam responsive dizayn\nğŸŒ CSP problemlÉ™ri hÉ™ll edilib!`,
              "success"
            );
          } else {
            const urlMessage = urlDataLoaded
              ? "\nğŸ”— URL-dÉ™n dÉ™ mÉ™lumat yÃ¼klÉ™ndi!"
              : "";
            showNotification(
              "MÉ™lumatlar BÉ™rpa Edildi",
              `ğŸ’¾ ${uploadedFiles.length} fayl, ${uploadedApps.length} tÉ™tbiq vÉ™ ${externalLinks.length} link yÃ¼klÉ™ndi!${urlMessage}\nğŸš€ GitHub sistem hazÄ±rdÄ±r!`,
              "success"
            );
          }

          // Show backup indicator if there's data
          if (
            uploadedFiles.length > 0 ||
            uploadedApps.length > 0 ||
            externalLinks.length > 0
          ) {
            updateBackupIndicator("github", "MÉ™lumat MÃ¶vcud");
          }
        }, 2000);
      });
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // Cari saytÄ±n domenini gÃ¶tÃ¼rÃ¼rÃ¼k
        const host = window.location.hostname;

        // BÃ¼tÃ¼n <a> teqlÉ™rini dolaÅŸÄ±rÄ±q
        document.querySelectorAll("a[href]").forEach((a) => {
          try {
            // HREF-i tam URL-É™ Ã§eviririk
            const url = new URL(a.href, window.location);

            // ÆgÉ™r link fÉ™rqli domenÉ™ iÅŸarÉ™ edirsÉ™, rel & target atributlarÄ±nÄ± É™lavÉ™ edirik
            if (url.hostname !== host) {
              a.setAttribute("target", "_blank");
              a.setAttribute("rel", "noopener noreferrer");
            }
          } catch (e) {
            // ÆgÉ™r URL parsing xÉ™tasÄ± yaranarsa (rÉ™qÉ™msal, mailto vÉ™ s.), burda gÃ¶zardÄ± edilir
          }
        });
      });
    </script>
  </body>
</html>
